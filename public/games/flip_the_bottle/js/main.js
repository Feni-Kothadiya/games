this.createjs = this.createjs || {}; createjs.extend = function (a, d) { function b() { this.constructor = a } b.prototype = d.prototype; return a.prototype = new b }; this.createjs = this.createjs || {}; createjs.promote = function (a, d) { var b = a.prototype, c = Object.getPrototypeOf && Object.getPrototypeOf(b) || b.__proto__; if (c) { b[(d += "_") + "constructor"] = c.constructor; for (var e in c) b.hasOwnProperty(e) && "function" == typeof c[e] && (b[d + e] = c[e]) } return a }; this.createjs = this.createjs || {};
createjs.deprecate = function (a, d) { return function () { var b = "Deprecated property or method '" + d + "'. See docs for info."; console && (console.warn ? console.warn(b) : console.log(b)); return a && a.apply(this, arguments) } }; this.createjs = this.createjs || {};
(function () {
    function a(b, c, e) { this.type = b; this.currentTarget = this.target = null; this.eventPhase = 0; this.bubbles = !!c; this.cancelable = !!e; this.timeStamp = (new Date).getTime(); this.removed = this.immediatePropagationStopped = this.propagationStopped = this.defaultPrevented = !1 } var d = a.prototype; d.preventDefault = function () { this.defaultPrevented = this.cancelable && !0 }; d.stopPropagation = function () { this.propagationStopped = !0 }; d.stopImmediatePropagation = function () {
        this.immediatePropagationStopped = this.propagationStopped =
            !0
    }; d.remove = function () { this.removed = !0 }; d.clone = function () { return new a(this.type, this.bubbles, this.cancelable) }; d.set = function (b) { for (var c in b) this[c] = b[c]; return this }; d.toString = function () { return "[Event (type=" + this.type + ")]" }; createjs.Event = a
})(); this.createjs = this.createjs || {};
(function () {
    function a() { this._captureListeners = this._listeners = null } var d = a.prototype; a.initialize = function (b) { b.addEventListener = d.addEventListener; b.on = d.on; b.removeEventListener = b.off = d.removeEventListener; b.removeAllEventListeners = d.removeAllEventListeners; b.hasEventListener = d.hasEventListener; b.dispatchEvent = d.dispatchEvent; b._dispatchEvent = d._dispatchEvent; b.willTrigger = d.willTrigger }; d.addEventListener = function (b, c, e) {
        var f = e ? this._captureListeners = this._captureListeners || {} : this._listeners =
            this._listeners || {}; var g = f[b]; g && this.removeEventListener(b, c, e); (g = f[b]) ? g.push(c) : f[b] = [c]; return c
    }; d.on = function (b, c, e, f, g, h) { c.handleEvent && (e = e || c, c = c.handleEvent); e = e || this; return this.addEventListener(b, function (k) { c.call(e, k, g); f && k.remove() }, h) }; d.removeEventListener = function (b, c, e) { if (e = e ? this._captureListeners : this._listeners) { var f = e[b]; if (f) for (var g = 0, h = f.length; g < h; g++)if (f[g] == c) { 1 == h ? delete e[b] : f.splice(g, 1); break } } }; d.off = d.removeEventListener; d.removeAllEventListeners = function (b) {
        b ?
            (this._listeners && delete this._listeners[b], this._captureListeners && delete this._captureListeners[b]) : this._listeners = this._captureListeners = null
    }; d.dispatchEvent = function (b, c, e) {
        if ("string" == typeof b) { var f = this._listeners; if (!(c || f && f[b])) return !0; b = new createjs.Event(b, c, e) } else b.target && b.clone && (b = b.clone()); try { b.target = this } catch (g) { } if (b.bubbles && this.parent) {
            e = this; for (c = [e]; e.parent;)c.push(e = e.parent); f = c.length; for (e = f - 1; 0 <= e && !b.propagationStopped; e--)c[e]._dispatchEvent(b, 1 + (0 == e));
            for (e = 1; e < f && !b.propagationStopped; e++)c[e]._dispatchEvent(b, 3)
        } else this._dispatchEvent(b, 2); return !b.defaultPrevented
    }; d.hasEventListener = function (b) { var c = this._listeners, e = this._captureListeners; return !!(c && c[b] || e && e[b]) }; d.willTrigger = function (b) { for (var c = this; c;) { if (c.hasEventListener(b)) return !0; c = c.parent } return !1 }; d.toString = function () { return "[EventDispatcher]" }; d._dispatchEvent = function (b, c) {
        var e, f, g = 2 >= c ? this._captureListeners : this._listeners; if (b && g && (f = g[b.type]) && (e = f.length)) {
            try {
                b.currentTarget =
                this
            } catch (k) { } try { b.eventPhase = c | 0 } catch (k) { } b.removed = !1; f = f.slice(); for (g = 0; g < e && !b.immediatePropagationStopped; g++) { var h = f[g]; h.handleEvent ? h.handleEvent(b) : h(b); b.removed && (this.off(b.type, h, 1 == c), b.removed = !1) }
        } 2 === c && this._dispatchEvent(b, 2.1)
    }; createjs.EventDispatcher = a
})(); this.createjs = this.createjs || {};
(function () {
    function a() { throw "Ticker cannot be instantiated."; } a.RAF_SYNCHED = "synched"; a.RAF = "raf"; a.TIMEOUT = "timeout"; a.timingMode = null; a.maxDelta = 0; a.paused = !1; a.removeEventListener = null; a.removeAllEventListeners = null; a.dispatchEvent = null; a.hasEventListener = null; a._listeners = null; createjs.EventDispatcher.initialize(a); a._addEventListener = a.addEventListener; a.addEventListener = function () { !a._inited && a.init(); return a._addEventListener.apply(a, arguments) }; a._inited = !1; a._startTime = 0; a._pausedTime =
        0; a._ticks = 0; a._pausedTicks = 0; a._interval = 50; a._lastTime = 0; a._times = null; a._tickTimes = null; a._timerId = null; a._raf = !0; a._setInterval = function (c) { a._interval = c; a._inited && a._setupTick() }; a.setInterval = createjs.deprecate(a._setInterval, "Ticker.setInterval"); a._getInterval = function () { return a._interval }; a.getInterval = createjs.deprecate(a._getInterval, "Ticker.getInterval"); a._setFPS = function (c) { a._setInterval(1E3 / c) }; a.setFPS = createjs.deprecate(a._setFPS, "Ticker.setFPS"); a._getFPS = function () {
            return 1E3 /
                a._interval
        }; a.getFPS = createjs.deprecate(a._getFPS, "Ticker.getFPS"); try { Object.defineProperties(a, { interval: { get: a._getInterval, set: a._setInterval }, framerate: { get: a._getFPS, set: a._setFPS } }) } catch (c) { console.log(c) } a.init = function () { a._inited || (a._inited = !0, a._times = [], a._tickTimes = [], a._startTime = a._getTime(), a._times.push(a._lastTime = 0), a.interval = a._interval) }; a.reset = function () {
            if (a._raf) {
                var c = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame ||
                    window.msCancelAnimationFrame; c && c(a._timerId)
            } else clearTimeout(a._timerId); a.removeAllEventListeners("tick"); a._timerId = a._times = a._tickTimes = null; a._startTime = a._lastTime = a._ticks = a._pausedTime = 0; a._inited = !1
        }; a.getMeasuredTickTime = function (c) { var e = 0, f = a._tickTimes; if (!f || 1 > f.length) return -1; c = Math.min(f.length, c || a._getFPS() | 0); for (var g = 0; g < c; g++)e += f[g]; return e / c }; a.getMeasuredFPS = function (c) {
            var e = a._times; if (!e || 2 > e.length) return -1; c = Math.min(e.length - 1, c || a._getFPS() | 0); return 1E3 / ((e[0] -
                e[c]) / c)
        }; a.getTime = function (c) { return a._startTime ? a._getTime() - (c ? a._pausedTime : 0) : -1 }; a.getEventTime = function (c) { return a._startTime ? (a._lastTime || a._startTime) - (c ? a._pausedTime : 0) : -1 }; a.getTicks = function (c) { return a._ticks - (c ? a._pausedTicks : 0) }; a._handleSynch = function () { a._timerId = null; a._setupTick(); a._getTime() - a._lastTime >= .97 * (a._interval - 1) && a._tick() }; a._handleRAF = function () { a._timerId = null; a._setupTick(); a._tick() }; a._handleTimeout = function () { a._timerId = null; a._setupTick(); a._tick() }; a._setupTick =
            function () { if (null == a._timerId) { var c = a.timingMode; if (c == a.RAF_SYNCHED || c == a.RAF) { var e = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame; if (e) { a._timerId = e(c == a.RAF ? a._handleRAF : a._handleSynch); a._raf = !0; return } } a._raf = !1; a._timerId = setTimeout(a._handleTimeout, a._interval) } }; a._tick = function () {
                var c = a.paused, e = a._getTime(), f = e - a._lastTime; a._lastTime = e; a._ticks++; c && (a._pausedTicks++, a._pausedTime +=
                    f); if (a.hasEventListener("tick")) { var g = new createjs.Event("tick"), h = a.maxDelta; g.delta = h && f > h ? h : f; g.paused = c; g.time = e; g.runTime = e - a._pausedTime; a.dispatchEvent(g) } for (a._tickTimes.unshift(a._getTime() - e); 100 < a._tickTimes.length;)a._tickTimes.pop(); for (a._times.unshift(e); 100 < a._times.length;)a._times.pop()
            }; var d = window, b = d.performance.now || d.performance.mozNow || d.performance.msNow || d.performance.oNow || d.performance.webkitNow; a._getTime = function () {
                return (b && b.call(d.performance) || (new Date).getTime()) -
                    a._startTime
            }; createjs.Ticker = a
})(); this.createjs = this.createjs || {};
(function () {
    function a(b) {
        this.EventDispatcher_constructor(); this.ignoreGlobalPause = !1; this.loop = 0; this.bounce = this.reversed = this.useTicks = !1; this.timeScale = 1; this.position = this.duration = 0; this.rawPosition = -1; this._paused = !0; this._labelList = this._labels = this._parent = this._prev = this._next = null; b && (this.useTicks = !!b.useTicks, this.ignoreGlobalPause = !!b.ignoreGlobalPause, this.loop = !0 === b.loop ? -1 : b.loop || 0, this.reversed = !!b.reversed, this.bounce = !!b.bounce, this.timeScale = b.timeScale || 1, b.onChange && this.addEventListener("change",
            b.onChange), b.onComplete && this.addEventListener("complete", b.onComplete))
    } var d = createjs.extend(a, createjs.EventDispatcher); d._setPaused = function (b) { createjs.Tween._register(this, b); return this }; d.setPaused = createjs.deprecate(d._setPaused, "AbstractTween.setPaused"); d._getPaused = function () { return this._paused }; d.getPaused = createjs.deprecate(d._getPaused, "AbstactTween.getPaused"); d._getCurrentLabel = function (b) {
        var c = this.getLabels(); null == b && (b = this.position); for (var e = 0, f = c.length; e < f && !(b < c[e].position); e++);
        return 0 === e ? null : c[e - 1].label
    }; d.getCurrentLabel = createjs.deprecate(d._getCurrentLabel, "AbstractTween.getCurrentLabel"); try { Object.defineProperties(d, { paused: { set: d._setPaused, get: d._getPaused }, currentLabel: { get: d._getCurrentLabel } }) } catch (b) { } d.advance = function (b, c) { this.setPosition(this.rawPosition + b * this.timeScale, c) }; d.setPosition = function (b, c, e, f) {
        var g = this.duration, h = this.loop, k = this.rawPosition, l = 0; 0 > b && (b = 0); if (0 === g) { var n = !0; if (-1 !== k) return n } else {
            var q = b / g | 0; l = b - q * g; (n = -1 !== h && b >= h *
                g + g) && (b = (l = g) * (q = h) + g); if (b === k) return n; !this.reversed !== !(this.bounce && q % 2) && (l = g - l)
        } this.position = l; this.rawPosition = b; this._updatePosition(e, n); n && (this.paused = !0); f && f(this); c || this._runActions(k, b, e, !e && -1 === k); this.dispatchEvent("change"); n && this.dispatchEvent("complete")
    }; d.calculatePosition = function (b) { var c = this.duration, e = this.loop, f = 0; if (0 === c) return 0; -1 !== e && b >= e * c + c ? (b = c, f = e) : 0 > b ? b = 0 : (f = b / c | 0, b -= f * c); return !this.reversed !== !(this.bounce && f % 2) ? c - b : b }; d.getLabels = function () {
        var b = this._labelList;
        if (!b) { b = this._labelList = []; var c = this._labels, e; for (e in c) b.push({ label: e, position: c[e] }); b.sort(function (f, g) { return f.position - g.position }) } return b
    }; d.setLabels = function (b) { this._labels = b; this._labelList = null }; d.addLabel = function (b, c) { this._labels || (this._labels = {}); this._labels[b] = c; var e = this._labelList; if (e) { for (var f = 0, g = e.length; f < g && !(c < e[f].position); f++); e.splice(f, 0, { label: b, position: c }) } }; d.gotoAndPlay = function (b) { this.paused = !1; this._goto(b) }; d.gotoAndStop = function (b) {
        this.paused =
        !0; this._goto(b)
    }; d.resolve = function (b) { var c = Number(b); isNaN(c) && (c = this._labels && this._labels[b]); return c }; d.toString = function () { return "[AbstractTween]" }; d.clone = function () { throw "AbstractTween can not be cloned."; }; d._init = function (b) { b && b.paused || (this.paused = !1); b && null != b.position && this.setPosition(b.position) }; d._updatePosition = function (b, c) { }; d._goto = function (b) { b = this.resolve(b); null != b && this.setPosition(b, !1, !0) }; d._runActions = function (b, c, e, f) {
        if (this._actionHead || this.tweens) {
            var g = this.duration,
            h = this.reversed, k = this.bounce, l = this.loop, n, q, r; if (0 === g) { var v = n = q = r = 0; h = k = !1 } else v = b / g | 0, n = c / g | 0, q = b - v * g, r = c - n * g; -1 !== l && (n > l && (r = g, n = l), v > l && (q = g, v = l)); if (e) return this._runActionsRange(r, r, e, f); if (v !== n || q !== r || e || f) { -1 === v && (v = q = 0); b = b <= c; c = v; do { l = c === v ? q : b ? 0 : g; var t = c === n ? r : b ? g : 0; !h !== !(k && c % 2) && (l = g - l, t = g - t); if ((!k || c === v || l !== t) && this._runActionsRange(l, t, e, f || c !== v && !k)) return !0; f = !1 } while (b && ++c <= n || !b && --c >= n) }
        }
    }; d._runActionsRange = function (b, c, e, f) { }; createjs.AbstractTween = createjs.promote(a,
        "EventDispatcher")
})(); this.createjs = this.createjs || {};
(function () {
    function a(e, f) { this.AbstractTween_constructor(f); this.pluginData = null; this.target = e; this.passive = !1; this._stepTail = this._stepHead = new d(null, 0, 0, {}, null, !0); this._stepPosition = 0; this._injected = this._pluginIds = this._plugins = this._actionTail = this._actionHead = null; f && (this.pluginData = f.pluginData, f.override && a.removeTweens(e)); this.pluginData || (this.pluginData = {}); this._init(f) } function d(e, f, g, h, k, l) {
        this.next = null; this.prev = e; this.t = f; this.d = g; this.props = h; this.ease = k; this.passive = l; this.index =
            e ? e.index + 1 : 0
    } function b(e, f, g, h, k) { this.next = null; this.prev = e; this.t = f; this.d = 0; this.scope = g; this.funct = h; this.params = k } var c = createjs.extend(a, createjs.AbstractTween); a.IGNORE = {}; a._tweens = []; a._plugins = null; a._tweenHead = null; a._tweenTail = null; a.get = function (e, f) { return new a(e, f) }; a.tick = function (e, f) { for (var g = a._tweenHead; g;) { var h = g._next; f && !g.ignoreGlobalPause || g._paused || g.advance(g.useTicks ? 1 : e); g = h } }; a.handleEvent = function (e) { "tick" === e.type && this.tick(e.delta, e.paused) }; a.removeTweens =
        function (e) { if (e.tweenjs_count) { for (var f = a._tweenHead; f;) { var g = f._next; f.target === e && a._register(f, !0); f = g } e.tweenjs_count = 0 } }; a.removeAllTweens = function () { for (var e = a._tweenHead; e;) { var f = e._next; e._paused = !0; e.target && (e.target.tweenjs_count = 0); e._next = e._prev = null; e = f } a._tweenHead = a._tweenTail = null }; a.hasActiveTweens = function (e) { return e ? !!e.tweenjs_count : !!a._tweenHead }; a._installPlugin = function (e) {
            for (var f = e.priority = e.priority || 0, g = a._plugins = a._plugins || [], h = 0, k = g.length; h < k && !(f < g[h].priority); h++);
            g.splice(h, 0, e)
        }; a._register = function (e, f) { var g = e.target; if (!f && e._paused) g && (g.tweenjs_count = g.tweenjs_count ? g.tweenjs_count + 1 : 1), (g = a._tweenTail) ? (a._tweenTail = g._next = e, e._prev = g) : a._tweenHead = a._tweenTail = e, !a._inited && createjs.Ticker && (createjs.Ticker.addEventListener("tick", a), a._inited = !0); else if (f && !e._paused) { g && g.tweenjs_count--; g = e._next; var h = e._prev; g ? g._prev = h : a._tweenTail = h; h ? h._next = g : a._tweenHead = g; e._next = e._prev = null } e._paused = f }; c.wait = function (e, f) {
            0 < e && this._addStep(+e, this._stepTail.props,
                null, f); return this
        }; c.to = function (e, f, g) { if (null == f || 0 > f) f = 0; f = this._addStep(+f, null, g); this._appendProps(e, f); return this }; c.label = function (e) { this.addLabel(e, this.duration); return this }; c.call = function (e, f, g) { return this._addAction(g || this.target, e, f || [this]) }; c.set = function (e, f) { return this._addAction(f || this.target, this._set, [e]) }; c.play = function (e) { return this._addAction(e || this, this._set, [{ paused: !1 }]) }; c.pause = function (e) { return this._addAction(e || this, this._set, [{ paused: !0 }]) }; c.w = c.wait;
    c.t = c.to; c.c = c.call; c.s = c.set; c.toString = function () { return "[Tween]" }; c.clone = function () { throw "Tween can not be cloned."; }; c._addPlugin = function (e) { var f = this._pluginIds || (this._pluginIds = {}), g = e.ID; if (g && !f[g]) { f[g] = !0; f = this._plugins || (this._plugins = []); g = e.priority || 0; for (var h = 0, k = f.length; h < k; h++)if (g < f[h].priority) { f.splice(h, 0, e); return } f.push(e) } }; c._updatePosition = function (e, f) {
        var g = this._stepHead.next, h = this.position, k = this.duration; if (this.target && g) {
            for (var l = g.next; l && l.t <= h;)g = g.next,
                l = g.next; this._updateTargetProps(g, f ? 0 === k ? 1 : h / k : (h - g.t) / g.d, f)
        } this._stepPosition = g ? h - g.t : 0
    }; c._updateTargetProps = function (e, f, g) { if (!(this.passive = !!e.passive)) { var h, k = e.prev.props, l = e.props; if (h = e.ease) f = h(f, 0, 1, 1); h = this._plugins; var n; a: for (n in k) { var q = k[n]; var r = l[n]; q = q !== r && "number" === typeof q ? q + (r - q) * f : 1 <= f ? r : q; if (h) { r = 0; for (var v = h.length; r < v; r++) { var t = h[r].change(this, e, n, q, f, g); if (t === a.IGNORE) continue a; void 0 !== t && (q = t) } } this.target[n] = q } } }; c._runActionsRange = function (e, f, g, h) {
        var k =
            (g = e > f) ? this._actionTail : this._actionHead, l = f, n = e; g && (l = e, n = f); for (var q = this.position; k;) { var r = k.t; if (r === f || r > n && r < l || h && r === e) if (k.funct.apply(k.scope, k.params), q !== this.position) return !0; k = g ? k.prev : k.next }
    }; c._appendProps = function (e, f, g) {
        var h = this._stepHead.props, k = this.target, l = a._plugins, n, q, r = f.prev, v = r.props, t = f.props || (f.props = this._cloneProps(v)), z = {}; for (n in e) if (e.hasOwnProperty(n) && (z[n] = t[n] = e[n], void 0 === h[n])) {
            var x = void 0; if (l) for (q = l.length - 1; 0 <= q; q--) {
                var u = l[q].init(this, n,
                    x); void 0 !== u && (x = u); if (x === a.IGNORE) { delete t[n]; delete z[n]; break }
            } x !== a.IGNORE && (void 0 === x && (x = k[n]), v[n] = void 0 === x ? null : x)
        } for (n in z) { var p; for (e = r; (p = e) && (e = p.prev);)if (e.props !== p.props) { if (void 0 !== e.props[n]) break; e.props[n] = v[n] } } if (!1 !== g && (l = this._plugins)) for (q = l.length - 1; 0 <= q; q--)l[q].step(this, f, z); if (g = this._injected) this._injected = null, this._appendProps(g, f, !1)
    }; c._injectProp = function (e, f) { (this._injected || (this._injected = {}))[e] = f }; c._addStep = function (e, f, g, h) {
        f = new d(this._stepTail,
            this.duration, e, f, g, h || !1); this.duration += e; return this._stepTail = this._stepTail.next = f
    }; c._addAction = function (e, f, g) { e = new b(this._actionTail, this.duration, e, f, g); this._actionTail ? this._actionTail.next = e : this._actionHead = e; this._actionTail = e; return this }; c._set = function (e) { for (var f in e) this[f] = e[f] }; c._cloneProps = function (e) { var f = {}, g; for (g in e) f[g] = e[g]; return f }; createjs.Tween = createjs.promote(a, "AbstractTween")
})(); this.createjs = this.createjs || {};
(function () {
    function a(b) { if (b instanceof Array || null == b && 1 < arguments.length) { var c = b; var e = arguments[1]; b = arguments[2] } else b && (c = b.tweens, e = b.labels); this.AbstractTween_constructor(b); this.tweens = []; c && this.addTween.apply(this, c); this.setLabels(e); this._init(b) } var d = createjs.extend(a, createjs.AbstractTween); d.addTween = function (b) {
        b._parent && b._parent.removeTween(b); var c = arguments.length; if (1 < c) { for (var e = 0; e < c; e++)this.addTween(arguments[e]); return arguments[c - 1] } if (0 === c) return null; this.tweens.push(b);
        b._parent = this; b.paused = !0; c = b.duration; 0 < b.loop && (c *= b.loop + 1); c > this.duration && (this.duration = c); 0 <= this.rawPosition && b.setPosition(this.rawPosition); return b
    }; d.removeTween = function (b) { var c = arguments.length; if (1 < c) { for (var e = !0, f = 0; f < c; f++)e = e && this.removeTween(arguments[f]); return e } if (0 === c) return !0; c = this.tweens; for (f = c.length; f--;)if (c[f] === b) return c.splice(f, 1), b._parent = null, b.duration >= this.duration && this.updateDuration(), !0; return !1 }; d.updateDuration = function () {
        for (var b = this.duration =
            0, c = this.tweens.length; b < c; b++) { var e = this.tweens[b], f = e.duration; 0 < e.loop && (f *= e.loop + 1); f > this.duration && (this.duration = f) }
    }; d.toString = function () { return "[Timeline]" }; d.clone = function () { throw "Timeline can not be cloned."; }; d._updatePosition = function (b, c) { for (var e = this.position, f = 0, g = this.tweens.length; f < g; f++)this.tweens[f].setPosition(e, !0, b) }; d._runActionsRange = function (b, c, e, f) { for (var g = this.position, h = 0, k = this.tweens.length; h < k; h++)if (this.tweens[h]._runActions(b, c, e, f), g !== this.position) return !0 };
    createjs.Timeline = createjs.promote(a, "AbstractTween")
})(); this.createjs = this.createjs || {};
(function () {
    function a() { throw "Ease cannot be instantiated."; } a.linear = function (d) { return d }; a.none = a.linear; a.get = function (d) { -1 > d ? d = -1 : 1 < d && (d = 1); return function (b) { return 0 == d ? b : 0 > d ? b * (b * -d + 1 + d) : b * ((2 - b) * d + (1 - d)) } }; a.getPowIn = function (d) { return function (b) { return Math.pow(b, d) } }; a.getPowOut = function (d) { return function (b) { return 1 - Math.pow(1 - b, d) } }; a.getPowInOut = function (d) { return function (b) { return 1 > (b *= 2) ? .5 * Math.pow(b, d) : 1 - .5 * Math.abs(Math.pow(2 - b, d)) } }; a.quadIn = a.getPowIn(2); a.quadOut = a.getPowOut(2);
    a.quadInOut = a.getPowInOut(2); a.cubicIn = a.getPowIn(3); a.cubicOut = a.getPowOut(3); a.cubicInOut = a.getPowInOut(3); a.quartIn = a.getPowIn(4); a.quartOut = a.getPowOut(4); a.quartInOut = a.getPowInOut(4); a.quintIn = a.getPowIn(5); a.quintOut = a.getPowOut(5); a.quintInOut = a.getPowInOut(5); a.sineIn = function (d) { return 1 - Math.cos(d * Math.PI / 2) }; a.sineOut = function (d) { return Math.sin(d * Math.PI / 2) }; a.sineInOut = function (d) { return -.5 * (Math.cos(Math.PI * d) - 1) }; a.getBackIn = function (d) { return function (b) { return b * b * ((d + 1) * b - d) } };
    a.backIn = a.getBackIn(1.7); a.getBackOut = function (d) { return function (b) { return --b * b * ((d + 1) * b + d) + 1 } }; a.backOut = a.getBackOut(1.7); a.getBackInOut = function (d) { d *= 1.525; return function (b) { return 1 > (b *= 2) ? .5 * b * b * ((d + 1) * b - d) : .5 * ((b -= 2) * b * ((d + 1) * b + d) + 2) } }; a.backInOut = a.getBackInOut(1.7); a.circIn = function (d) { return -(Math.sqrt(1 - d * d) - 1) }; a.circOut = function (d) { return Math.sqrt(1 - --d * d) }; a.circInOut = function (d) { return 1 > (d *= 2) ? -.5 * (Math.sqrt(1 - d * d) - 1) : .5 * (Math.sqrt(1 - (d -= 2) * d) + 1) }; a.bounceIn = function (d) {
        return 1 -
            a.bounceOut(1 - d)
    }; a.bounceOut = function (d) { return d < 1 / 2.75 ? 7.5625 * d * d : d < 2 / 2.75 ? 7.5625 * (d -= 1.5 / 2.75) * d + .75 : d < 2.5 / 2.75 ? 7.5625 * (d -= 2.25 / 2.75) * d + .9375 : 7.5625 * (d -= 2.625 / 2.75) * d + .984375 }; a.bounceInOut = function (d) { return .5 > d ? .5 * a.bounceIn(2 * d) : .5 * a.bounceOut(2 * d - 1) + .5 }; a.getElasticIn = function (d, b) { var c = 2 * Math.PI; return function (e) { if (0 == e || 1 == e) return e; var f = b / c * Math.asin(1 / d); return -(d * Math.pow(2, 10 * --e) * Math.sin((e - f) * c / b)) } }; a.elasticIn = a.getElasticIn(1, .3); a.getElasticOut = function (d, b) {
        var c = 2 * Math.PI;
        return function (e) { return 0 == e || 1 == e ? e : d * Math.pow(2, -10 * e) * Math.sin((e - b / c * Math.asin(1 / d)) * c / b) + 1 }
    }; a.elasticOut = a.getElasticOut(1, .3); a.getElasticInOut = function (d, b) { var c = 2 * Math.PI; return function (e) { var f = b / c * Math.asin(1 / d); return 1 > (e *= 2) ? -.5 * d * Math.pow(2, 10 * --e) * Math.sin((e - f) * c / b) : d * Math.pow(2, -10 * --e) * Math.sin((e - f) * c / b) * .5 + 1 } }; a.elasticInOut = a.getElasticInOut(1, .3 * 1.5); createjs.Ease = a
})(); this.createjs = this.createjs || {};
(function () {
    function a() { throw "MotionGuidePlugin cannot be instantiated."; } a.priority = 0; a.ID = "MotionGuide"; a.install = function () { createjs.Tween._installPlugin(a); return createjs.Tween.IGNORE }; a.init = function (d, b, c) { "guide" == b && d._addPlugin(a) }; a.step = function (d, b, c) {
        for (var e in c) if ("guide" === e) {
            var f = b.props.guide, g = a._solveGuideData(c.guide, f); f.valid = !g; var h = f.endData; d._injectProp("x", h.x); d._injectProp("y", h.y); if (g || !f.orient) break; f.startOffsetRot = (void 0 === b.prev.props.rotation ? d.target.rotation ||
                0 : b.prev.props.rotation) - f.startData.rotation; if ("fixed" == f.orient) f.endAbsRot = h.rotation + f.startOffsetRot, f.deltaRotation = 0; else { g = void 0 === c.rotation ? d.target.rotation || 0 : c.rotation; h = g - f.endData.rotation - f.startOffsetRot; var k = h % 360; f.endAbsRot = g; switch (f.orient) { case "auto": f.deltaRotation = h; break; case "cw": f.deltaRotation = (k + 360) % 360 + 360 * Math.abs(h / 360 | 0); break; case "ccw": f.deltaRotation = (k - 360) % 360 + -360 * Math.abs(h / 360 | 0) } } d._injectProp("rotation", f.endAbsRot)
        }
    }; a.change = function (d, b, c, e, f, g) {
        if ((e =
            b.props.guide) && b.props !== b.prev.props && e !== b.prev.props.guide) { if ("guide" === c && !e.valid || "x" == c || "y" == c || "rotation" === c && e.orient) return createjs.Tween.IGNORE; a._ratioToPositionData(f, e, d.target) }
    }; a.debug = function (d, b, c) {
        d = d.guide || d; var e = a._findPathProblems(d); e && console.error("MotionGuidePlugin Error found: \n" + e); if (!b) return e; var f, g = d.path, h = g.length; b.save(); b.lineCap = "round"; b.lineJoin = "miter"; b.beginPath(); b.moveTo(g[0], g[1]); for (f = 2; f < h; f += 4)b.quadraticCurveTo(g[f], g[f + 1], g[f + 2], g[f +
            3]); b.strokeStyle = "black"; b.lineWidth = 4.5; b.stroke(); b.strokeStyle = "white"; b.lineWidth = 3; b.stroke(); b.closePath(); g = c.length; if (c && g) { h = {}; var k = {}; a._solveGuideData(d, h); for (f = 0; f < g; f++)h.orient = "fixed", a._ratioToPositionData(c[f], h, k), b.beginPath(), b.moveTo(k.x, k.y), b.lineTo(k.x + 9 * Math.cos(.0174533 * k.rotation), k.y + 9 * Math.sin(.0174533 * k.rotation)), b.strokeStyle = "black", b.lineWidth = 4.5, b.stroke(), b.strokeStyle = "red", b.lineWidth = 3, b.stroke(), b.closePath() } b.restore(); return e
    }; a._solveGuideData = function (d,
        b) {
            var c; if (c = a.debug(d)) return c; var e = b.path = d.path; b.orient = d.orient; b.subLines = []; b.totalLength = 0; b.startOffsetRot = 0; b.deltaRotation = 0; b.startData = { ratio: 0 }; b.endData = { ratio: 1 }; b.animSpan = 1; var f = e.length, g, h = {}; var k = e[0]; var l = e[1]; for (c = 2; c < f; c += 4) {
                var n = e[c]; var q = e[c + 1]; var r = e[c + 2]; var v = e[c + 3]; var t = { weightings: [], estLength: 0, portion: 0 }, z = k; var x = l; for (g = 1; 10 >= g; g++)a._getParamsForCurve(k, l, n, q, r, v, g / 10, !1, h), z = h.x - z, x = h.y - x, x = Math.sqrt(z * z + x * x), t.weightings.push(x), t.estLength += x, z = h.x,
                    x = h.y; b.totalLength += t.estLength; for (g = 0; 10 > g; g++)x = t.estLength, t.weightings[g] /= x; b.subLines.push(t); k = r; l = v
            } x = b.totalLength; e = b.subLines.length; for (c = 0; c < e; c++)b.subLines[c].portion = b.subLines[c].estLength / x; c = isNaN(d.start) ? 0 : d.start; e = isNaN(d.end) ? 1 : d.end; a._ratioToPositionData(c, b, b.startData); a._ratioToPositionData(e, b, b.endData); b.startData.ratio = c; b.endData.ratio = e; b.animSpan = b.endData.ratio - b.startData.ratio
    }; a._ratioToPositionData = function (d, b, c) {
        var e = b.subLines, f, g = 0, h = d * b.animSpan + b.startData.ratio;
        var k = e.length; for (f = 0; f < k; f++) { var l = e[f].portion; if (g + l >= h) { var n = f; break } g += l } void 0 === n && (n = k - 1, g -= l); e = e[n].weightings; var q = l; k = e.length; for (f = 0; f < k; f++) { l = e[f] * q; if (g + l >= h) break; g += l } n = 4 * n + 2; k = b.path; a._getParamsForCurve(k[n - 2], k[n - 1], k[n], k[n + 1], k[n + 2], k[n + 3], f / 10 + (h - g) / l * .1, b.orient, c); b.orient && (c.rotation = .99999 <= d && 1.00001 >= d && void 0 !== b.endAbsRot ? b.endAbsRot : c.rotation + (b.startOffsetRot + d * b.deltaRotation)); return c
    }; a._getParamsForCurve = function (d, b, c, e, f, g, h, k, l) {
        var n = 1 - h; l.x = n * n * d +
            2 * n * h * c + h * h * f; l.y = n * n * b + 2 * n * h * e + h * h * g; k && (l.rotation = 57.2957795 * Math.atan2((e - b) * n + (g - e) * h, (c - d) * n + (f - c) * h))
    }; a._findPathProblems = function (d) {
        var b = d.path, c = b && b.length || 0; if (6 > c || (c - 2) % 4) return "\tCannot parse 'path' array due to invalid number of entries in path. There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\nOnly [ " + (c + " ] values found. Expected: " + Math.max(4 *
            Math.ceil((c - 2) / 4) + 2, 6)); for (var e = 0; e < c; e++)if (isNaN(b[e])) return "All data in path array must be numeric"; b = d.start; if (isNaN(b) && void 0 !== b) return "'start' out of bounds. Expected 0 to 1, got: " + b; b = d.end; if (isNaN(b) && void 0 !== b) return "'end' out of bounds. Expected 0 to 1, got: " + b; if ((d = d.orient) && "fixed" != d && "auto" != d && "cw" != d && "ccw" != d) return 'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: ' + d
    }; createjs.MotionGuidePlugin = a
})(); this.createjs = this.createjs || {};
(function () { var a = createjs.TweenJS = createjs.TweenJS || {}; a.version = "1.0.0"; a.buildDate = "Thu, 14 Sep 2017 19:47:47 GMT" })();
(function () {
    var a = "undefined" !== typeof window && "undefined" !== typeof window.document ? window.document : {}, d = "undefined" !== typeof module && module.exports, b = "undefined" !== typeof Element && "ALLOW_KEYBOARD_INPUT" in Element, c = function () {
        for (var g, h = ["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "), "webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "), "webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
        "mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "), "msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")], k = 0, l = h.length, n = {}; k < l; k++)if ((g = h[k]) && g[1] in a) { for (k = 0; k < g.length; k++)n[h[0][k]] = g[k]; return n } return !1
    }(), e = { change: c.fullscreenchange, error: c.fullscreenerror }, f = {
        request: function (g) {
            var h = c.requestFullscreen; g = g || a.documentElement; if (/5\.1[.\d]* Safari/.test(navigator.userAgent)) g[h]();
            else g[h](b && Element.ALLOW_KEYBOARD_INPUT)
        }, exit: function () { a[c.exitFullscreen]() }, toggle: function (g) { this.isFullscreen ? this.exit() : this.request(g) }, onchange: function (g) { this.on("change", g) }, onerror: function (g) { this.on("error", g) }, on: function (g, h) { var k = e[g]; k && a.addEventListener(k, h, !1) }, off: function (g, h) { var k = e[g]; k && a.removeEventListener(k, h, !1) }, raw: c
    }; c ? (Object.defineProperties(f, {
        isFullscreen: { get: function () { return !!a[c.fullscreenElement] } }, element: { enumerable: !0, get: function () { return a[c.fullscreenElement] } },
        enabled: { enumerable: !0, get: function () { return !!a[c.fullscreenEnabled] } }
    }), d ? module.exports = f : window.screenfull = f) : d ? module.exports = !1 : window.screenfull = !1
})();
(function () {
    function a(p) { p = String(p); return p.charAt(0).toUpperCase() + p.slice(1) } function d(p, H) { var I = -1, B = p ? p.length : 0; if ("number" == typeof B && -1 < B && B <= v) for (; ++I < B;)H(p[I], I, p); else c(p, H) } function b(p) { p = String(p).replace(/^ +| +$/g, ""); return /^(?:webOS|i(?:OS|P))/.test(p) ? p : a(p) } function c(p, H) { for (var I in p) z.call(p, I) && H(p[I], I, p) } function e(p) { return null == p ? a(p) : x.call(p).slice(8, -1) } function f(p, H) {
        var I = null != p ? typeof p[H] : "number"; return !/^(?:boolean|number|string|undefined)$/.test(I) &&
            ("object" == I ? !!p[H] : !0)
    } function g(p) { return String(p).replace(/([ -])(?!$)/g, "$1?") } function h(p, H) { var I = null; d(p, function (B, w) { I = H(I, B, w, p) }); return I } function k(p) {
        function H(V) {
            return h(V, function (Q, O) {
                var X = O.pattern || g(O); !Q && (Q = RegExp("\\b" + X + " *\\d+[.\\w_]*", "i").exec(p) || RegExp("\\b" + X + " *\\w+-[\\w]*", "i").exec(p) || RegExp("\\b" + X + "(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)", "i").exec(p)) && ((Q = String(O.label && !RegExp(X, "i").test(O.label) ? O.label : Q).split("/"))[1] && !/[\d.]+/.test(Q[0]) && (Q[0] +=
                    " " + Q[1]), O = O.label || O, Q = b(Q[0].replace(RegExp(X, "i"), O).replace(RegExp("; *(?:" + O + "[_-])?", "i"), " ").replace(RegExp("(" + O + ")[-_.]?(\\w)", "i"), "$1 $2"))); return Q
            })
        } function I(V) { return h(V, function (Q, O) { return Q || (RegExp(O + "(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)", "i").exec(p) || 0)[1] || null }) } var B = n, w = p && "object" == typeof p && "String" != e(p); w && (B = p, p = null); var F = B.navigator || {}, y = F.userAgent || ""; p || (p = y); var J = w ? !!F.likeChrome : /\bChrome\b/.test(p) && !/internal|\n/i.test(x.toString()),
            U = w ? "Object" : "ScriptBridgingProxyObject", Z = w ? "Object" : "Environment", D = w && B.java ? "JavaPackage" : e(B.java), G = w ? "Object" : "RuntimeObject"; Z = (D = /\bJava/.test(D) && B.java) && e(B.environment) == Z; var L = D ? "a" : "\u03b1", K = D ? "b" : "\u03b2", P = B.document || {}, S = B.operamini || B.opera, W = t.test(W = w && S ? S["[[Class]]"] : e(S)) ? W : S = null, m, E = p; w = []; var T = null, R = p == y; y = R && S && "function" == typeof S.version && S.version(); var M = function (V) {
                return h(V, function (Q, O) {
                    return Q || RegExp("\\b" + (O.pattern || g(O)) + "\\b", "i").exec(p) && (O.label ||
                        O)
                })
            }([{ label: "EdgeHTML", pattern: "Edge" }, "Trident", { label: "WebKit", pattern: "AppleWebKit" }, "iCab", "Presto", "NetFront", "Tasman", "KHTML", "Gecko"]), A = function (V) { return h(V, function (Q, O) { return Q || RegExp("\\b" + (O.pattern || g(O)) + "\\b", "i").exec(p) && (O.label || O) }) }(["Adobe AIR", "Arora", "Avant Browser", "Breach", "Camino", "Electron", "Epiphany", "Fennec", "Flock", "Galeon", "GreenBrowser", "iCab", "Iceweasel", "K-Meleon", "Konqueror", "Lunascape", "Maxthon", { label: "Microsoft Edge", pattern: "Edge" }, "Midori", "Nook Browser",
                "PaleMoon", "PhantomJS", "Raven", "Rekonq", "RockMelt", { label: "Samsung Internet", pattern: "SamsungBrowser" }, "SeaMonkey", { label: "Silk", pattern: "(?:Cloud9|Silk-Accelerated)" }, "Sleipnir", "SlimBrowser", { label: "SRWare Iron", pattern: "Iron" }, "Sunrise", "Swiftfox", "Waterfox", "WebPositive", "Opera Mini", { label: "Opera Mini", pattern: "OPiOS" }, "Opera", { label: "Opera", pattern: "OPR" }, "Chrome", { label: "Chrome Mobile", pattern: "(?:CriOS|CrMo)" }, { label: "Firefox", pattern: "(?:Firefox|Minefield)" }, { label: "Firefox for iOS", pattern: "FxiOS" },
                { label: "IE", pattern: "IEMobile" }, { label: "IE", pattern: "MSIE" }, "Safari"]), N = H([{ label: "BlackBerry", pattern: "BB10" }, "BlackBerry", { label: "Galaxy S", pattern: "GT-I9000" }, { label: "Galaxy S2", pattern: "GT-I9100" }, { label: "Galaxy S3", pattern: "GT-I9300" }, { label: "Galaxy S4", pattern: "GT-I9500" }, { label: "Galaxy S5", pattern: "SM-G900" }, { label: "Galaxy S6", pattern: "SM-G920" }, { label: "Galaxy S6 Edge", pattern: "SM-G925" }, { label: "Galaxy S7", pattern: "SM-G930" }, { label: "Galaxy S7 Edge", pattern: "SM-G935" }, "Google TV", "Lumia", "iPad",
                    "iPod", "iPhone", "Kindle", { label: "Kindle Fire", pattern: "(?:Cloud9|Silk-Accelerated)" }, "Nexus", "Nook", "PlayBook", "PlayStation Vita", "PlayStation", "TouchPad", "Transformer", { label: "Wii U", pattern: "WiiU" }, "Wii", "Xbox One", { label: "Xbox 360", pattern: "Xbox" }, "Xoom"]), Y = function (V) { return h(V, function (Q, O, X) { return Q || (O[N] || O[/^[a-z]+(?: +[a-z]+\b)*/i.exec(N)] || RegExp("\\b" + g(X) + "(?:\\b|\\w*\\d)", "i").exec(p)) && X }) }({
                        Apple: { iPad: 1, iPhone: 1, iPod: 1 }, Archos: {}, Amazon: { Kindle: 1, "Kindle Fire": 1 }, Asus: { Transformer: 1 },
                        "Barnes & Noble": { Nook: 1 }, BlackBerry: { PlayBook: 1 }, Google: { "Google TV": 1, Nexus: 1 }, HP: { TouchPad: 1 }, HTC: {}, LG: {}, Microsoft: { Xbox: 1, "Xbox One": 1 }, Motorola: { Xoom: 1 }, Nintendo: { "Wii U": 1, Wii: 1 }, Nokia: { Lumia: 1 }, Samsung: { "Galaxy S": 1, "Galaxy S2": 1, "Galaxy S3": 1, "Galaxy S4": 1 }, Sony: { PlayStation: 1, "PlayStation Vita": 1 }
                    }), C = function (V) {
                        return h(V, function (Q, O) {
                            var X = O.pattern || g(O); if (!Q && (Q = RegExp("\\b" + X + "(?:/[\\d.]+|[ \\w.]*)", "i").exec(p))) {
                                var aa = Q, ba = O.label || O, ca = {
                                    "10.0": "10", "6.4": "10 Technical Preview",
                                    "6.3": "8.1", "6.2": "8", "6.1": "Server 2008 R2 / 7", "6.0": "Server 2008 / Vista", "5.2": "Server 2003 / XP 64-bit", "5.1": "XP", "5.01": "2000 SP1", "5.0": "2000", "4.0": "NT", "4.90": "ME"
                                }; X && ba && /^Win/i.test(aa) && !/^Windows Phone /i.test(aa) && (ca = ca[/[\d.]+$/.exec(aa)]) && (aa = "Windows " + ca); aa = String(aa); X && ba && (aa = aa.replace(RegExp(X, "i"), ba)); Q = aa = b(aa.replace(/ ce$/i, " CE").replace(/\bhpw/i, "web").replace(/\bMacintosh\b/, "Mac OS").replace(/_PowerPC\b/i, " OS").replace(/\b(OS X) [^ \d]+/i, "$1").replace(/\bMac (OS X)\b/,
                                    "$1").replace(/\/(\d)/, " $1").replace(/_/g, ".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i, "").replace(/\bx86\.64\b/gi, "x86_64").replace(/\b(Windows Phone) OS\b/, "$1").replace(/\b(Chrome OS \w+) [\d.]+\b/, "$1").split(" on ")[0])
                            } return Q
                        })
                    }(["Windows Phone", "Android", "CentOS", { label: "Chrome OS", pattern: "CrOS" }, "Debian", "Fedora", "FreeBSD", "Gentoo", "Haiku", "Kubuntu", "Linux Mint", "OpenBSD", "Red Hat", "SuSE", "Ubuntu", "Xubuntu", "Cygwin", "Symbian OS", "hpwOS", "webOS ", "webOS", "Tablet OS", "Tizen", "Linux", "Mac OS X",
                        "Macintosh", "Mac", "Windows 98;", "Windows "]); M && (M = [M]); Y && !N && (N = H([Y])); if (m = /\bGoogle TV\b/.exec(N)) N = m[0]; /\bSimulator\b/i.test(p) && (N = (N ? N + " " : "") + "Simulator"); "Opera Mini" == A && /\bOPiOS\b/.test(p) && w.push("running in Turbo/Uncompressed mode"); "IE" == A && /\blike iPhone OS\b/.test(p) ? (m = k(p.replace(/like iPhone OS/, "")), Y = m.manufacturer, N = m.product) : /^iP/.test(N) ? (A || (A = "Safari"), C = "iOS" + ((m = / OS ([\d_]+)/i.exec(p)) ? " " + m[1].replace(/_/g, ".") : "")) : "Konqueror" != A || /buntu/i.test(C) ? Y && "Google" != Y &&
                            (/Chrome/.test(A) && !/\bMobile Safari\b/i.test(p) || /\bVita\b/.test(N)) || /\bAndroid\b/.test(C) && /^Chrome/.test(A) && /\bVersion\//i.test(p) ? (A = "Android Browser", C = /\bAndroid\b/.test(C) ? C : "Android") : "Silk" == A ? (/\bMobi/i.test(p) || (C = "Android", w.unshift("desktop mode")), /Accelerated *= *true/i.test(p) && w.unshift("accelerated")) : "PaleMoon" == A && (m = /\bFirefox\/([\d.]+)\b/.exec(p)) ? w.push("identifying as Firefox " + m[1]) : "Firefox" == A && (m = /\b(Mobile|Tablet|TV)\b/i.exec(p)) ? (C || (C = "Firefox OS"), N || (N = m[1])) : !A ||
                                (m = !/\bMinefield\b/i.test(p) && /\b(?:Firefox|Safari)\b/.exec(A)) ? (A && !N && /[\/,]|^[^(]+?\)/.test(p.slice(p.indexOf(m + "/") + 8)) && (A = null), (m = N || Y || C) && (N || Y || /\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(C)) && (A = /[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(C) ? C : m) + " Browser")) : "Electron" == A && (m = (/\bChrome\/([\d.]+)\b/.exec(p) || 0)[1]) && w.push("Chromium " + m) : C = "Kubuntu"; y || (y = I(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))", "Version", g(A),
                                    "(?:Firefox|Minefield|NetFront)"])); if (m = "iCab" == M && 3 < parseFloat(y) && "WebKit" || /\bOpera\b/.test(A) && (/\bOPR\b/.test(p) ? "Blink" : "Presto") || /\b(?:Midori|Nook|Safari)\b/i.test(p) && !/^(?:Trident|EdgeHTML)$/.test(M) && "WebKit" || !M && /\bMSIE\b/i.test(p) && ("Mac OS" == C ? "Tasman" : "Trident") || "WebKit" == M && /\bPlayStation\b(?! Vita\b)/i.test(A) && "NetFront") M = [m]; "IE" == A && (m = (/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(p) || 0)[1]) ? (A += " Mobile", C = "Windows Phone " + (/\+$/.test(m) ? m : m + ".x"), w.unshift("desktop mode")) : /\bWPDesktop\b/i.test(p) ?
                                        (A = "IE Mobile", C = "Windows Phone 8.x", w.unshift("desktop mode"), y || (y = (/\brv:([\d.]+)/.exec(p) || 0)[1])) : "IE" != A && "Trident" == M && (m = /\brv:([\d.]+)/.exec(p)) && (A && w.push("identifying as " + A + (y ? " " + y : "")), A = "IE", y = m[1]); if (R) {
                                            if (f(B, "global")) if (D && (m = D.lang.System, E = m.getProperty("os.arch"), C = C || m.getProperty("os.name") + " " + m.getProperty("os.version")), Z) {
                                                try { y = B.require("ringo/engine").version.join("."), A = "RingoJS" } catch (V) { (m = B.system) && m.global.system == B.system && (A = "Narwhal", C || (C = m[0].os || null)) } A ||
                                                    (A = "Rhino")
                                            } else "object" == typeof B.process && !B.process.browser && (m = B.process) && ("object" == typeof m.versions && ("string" == typeof m.versions.electron ? (w.push("Node " + m.versions.node), A = "Electron", y = m.versions.electron) : "string" == typeof m.versions.nw && (w.push("Chromium " + y, "Node " + m.versions.node), A = "NW.js", y = m.versions.nw)), A || (A = "Node.js", E = m.arch, C = m.platform, y = (y = /[\d.]+/.exec(m.version)) ? y[0] : null)); else e(m = B.runtime) == U ? (A = "Adobe AIR", C = m.flash.system.Capabilities.os) : e(m = B.phantom) == G ? (A = "PhantomJS",
                                                y = (m = m.version || null) && m.major + "." + m.minor + "." + m.patch) : "number" == typeof P.documentMode && (m = /\bTrident\/(\d+)/i.exec(p)) ? (y = [y, P.documentMode], (m = +m[1] + 4) != y[1] && (w.push("IE " + y[1] + " mode"), M && (M[1] = ""), y[1] = m), y = "IE" == A ? String(y[1].toFixed(1)) : y[0]) : "number" == typeof P.documentMode && /^(?:Chrome|Firefox)\b/.test(A) && (w.push("masking as " + A + " " + y), A = "IE", y = "11.0", M = ["Trident"], C = "Windows"); C = C && b(C)
                                        } y && (m = /(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(y) || /(?:alpha|beta)(?: ?\d)?/i.exec(p + ";" + (R && F.appMinorVersion)) ||
                                            /\bMinefield\b/i.test(p) && "a") && (T = /b/i.test(m) ? "beta" : "alpha", y = y.replace(RegExp(m + "\\+?$"), "") + ("beta" == T ? K : L) + (/\d+\+?/.exec(m) || "")); if ("Fennec" == A || "Firefox" == A && /\b(?:Android|Firefox OS)\b/.test(C)) A = "Firefox Mobile"; else if ("Maxthon" == A && y) y = y.replace(/\.[\d.]+/, ".x"); else if (/\bXbox\b/i.test(N)) "Xbox 360" == N && (C = null), "Xbox 360" == N && /\bIEMobile\b/.test(p) && w.unshift("mobile mode"); else if (!/^(?:Chrome|IE|Opera)$/.test(A) && (!A || N || /Browser|Mobi/.test(A)) || "Windows CE" != C && !/Mobi/i.test(p)) if ("IE" ==
                                                A && R) try { null === B.external && w.unshift("platform preview") } catch (V) { w.unshift("embedded") } else (/\bBlackBerry\b/.test(N) || /\bBB10\b/.test(p)) && (m = (RegExp(N.replace(/ +/g, " *") + "/([.\\d]+)", "i").exec(p) || 0)[1] || y) ? (m = [m, /BB10/.test(p)], C = (m[1] ? (N = null, Y = "BlackBerry") : "Device Software") + " " + m[0], y = null) : this != c && "Wii" != N && (R && S || /Opera/.test(A) && /\b(?:MSIE|Firefox)\b/i.test(p) || "Firefox" == A && /\bOS X (?:\d+\.){2,}/.test(C) || "IE" == A && (C && !/^Win/.test(C) && 5.5 < y || /\bWindows XP\b/.test(C) && 8 < y || 8 == y && !/\bTrident\b/.test(p))) &&
                                                    !t.test(m = k.call(c, p.replace(t, "") + ";")) && m.name && (m = "ing as " + m.name + ((m = m.version) ? " " + m : ""), t.test(A) ? (/\bIE\b/.test(m) && "Mac OS" == C && (C = null), m = "identify" + m) : (m = "mask" + m, A = W ? b(W.replace(/([a-z])([A-Z])/g, "$1 $2")) : "Opera", /\bIE\b/.test(m) && (C = null), R || (y = null)), M = ["Presto"], w.push(m)); else A += " Mobile"; if (m = (/\bAppleWebKit\/([\d.]+\+?)/i.exec(p) || 0)[1]) {
                                                        m = [parseFloat(m.replace(/\.(\d)$/, ".0$1")), m]; if ("Safari" == A && "+" == m[1].slice(-1)) A = "WebKit Nightly", T = "alpha", y = m[1].slice(0, -1); else if (y ==
                                                            m[1] || y == (m[2] = (/\bSafari\/([\d.]+\+?)/i.exec(p) || 0)[1])) y = null; m[1] = (/\bChrome\/([\d.]+)/i.exec(p) || 0)[1]; 537.36 == m[0] && 537.36 == m[2] && 28 <= parseFloat(m[1]) && "WebKit" == M && (M = ["Blink"]); R && (J || m[1]) ? (M && (M[1] = "like Chrome"), m = m[1] || (m = m[0], 530 > m ? 1 : 532 > m ? 2 : 532.05 > m ? 3 : 533 > m ? 4 : 534.03 > m ? 5 : 534.07 > m ? 6 : 534.1 > m ? 7 : 534.13 > m ? 8 : 534.16 > m ? 9 : 534.24 > m ? 10 : 534.3 > m ? 11 : 535.01 > m ? 12 : 535.02 > m ? "13+" : 535.07 > m ? 15 : 535.11 > m ? 16 : 535.19 > m ? 17 : 536.05 > m ? 18 : 536.1 > m ? 19 : 537.01 > m ? 20 : 537.11 > m ? "21+" : 537.13 > m ? 23 : 537.18 > m ? 24 : 537.24 > m ? 25 : 537.36 >
                                                                m ? 26 : "Blink" != M ? "27" : "28")) : (M && (M[1] = "like Safari"), m = (m = m[0], 400 > m ? 1 : 500 > m ? 2 : 526 > m ? 3 : 533 > m ? 4 : 534 > m ? "4+" : 535 > m ? 5 : 537 > m ? 6 : 538 > m ? 7 : 601 > m ? 8 : "8")); M && (M[1] += " " + (m += "number" == typeof m ? ".x" : /[.+]/.test(m) ? "" : "+")); "Safari" == A && (!y || 45 < parseInt(y)) && (y = m)
                                                    } "Opera" == A && (m = /\bzbov|zvav$/.exec(C)) ? (A += " ", w.unshift("desktop mode"), "zvav" == m ? (A += "Mini", y = null) : A += "Mobile", C = C.replace(RegExp(" *" + m + "$"), "")) : "Safari" == A && /\bChrome\b/.exec(M && M[1]) && (w.unshift("desktop mode"), A = "Chrome Mobile", y = null, /\bOS X\b/.test(C) ?
                                                        (Y = "Apple", C = "iOS 4.3+") : C = null); y && 0 == y.indexOf(m = /[\d.]+$/.exec(C)) && -1 < p.indexOf("/" + m + "-") && (C = String(C.replace(m, "")).replace(/^ +| +$/g, "")); M && !/\b(?:Avant|Nook)\b/.test(A) && (/Browser|Lunascape|Maxthon/.test(A) || "Safari" != A && /^iOS/.test(C) && /\bSafari\b/.test(M[1]) || /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(A) && M[1]) && (m = M[M.length - 1]) && w.push(m); w.length && (w = ["(" + w.join("; ") + ")"]); Y && N && 0 > N.indexOf(Y) && w.push("on " + Y); N && w.push((/^on /.test(w[w.length -
                                                            1]) ? "" : "on ") + N); if (C) { var da = (m = / ([\d.+]+)$/.exec(C)) && "/" == C.charAt(C.length - m[0].length - 1); C = { architecture: 32, family: m && !da ? C.replace(m[0], "") : C, version: m ? m[1] : null, toString: function () { var V = this.version; return this.family + (V && !da ? " " + V : "") + (64 == this.architecture ? " 64-bit" : "") } } } (m = /\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(E)) && !/\bi686\b/i.test(E) ? (C && (C.architecture = 64, C.family = C.family.replace(RegExp(" *" + m), "")), A && (/\bWOW64\b/i.test(p) || R && /\w(?:86|32)$/.test(F.cpuClass || F.platform) && !/\bWin64; x64\b/i.test(p)) &&
                                                                w.unshift("32-bit")) : C && /^OS X/.test(C.family) && "Chrome" == A && 39 <= parseFloat(y) && (C.architecture = 64); p || (p = null); B = {}; B.description = p; B.layout = M && M[0]; B.manufacturer = Y; B.name = A; B.prerelease = T; B.product = N; B.ua = p; B.version = A && y; B.os = C || { architecture: null, family: null, version: null, toString: function () { return "null" } }; B.parse = k; B.toString = function () { return this.description || "" }; B.version && w.unshift(y); B.name && w.unshift(A); C && A && (C != String(C).split(" ")[0] || C != A.split(" ")[0] && !N) && w.push(N ? "(" + C + ")" : "on " +
                                                                    C); w.length && (B.description = w.join(" ")); return B
    } var l = { "function": !0, object: !0 }, n = l[typeof window] && window || this, q = l[typeof exports] && exports; l = l[typeof module] && module && !module.nodeType && module; var r = q && l && "object" == typeof global && global; !r || r.global !== r && r.window !== r && r.self !== r || (n = r); var v = Math.pow(2, 53) - 1, t = /\bOpera/; r = Object.prototype; var z = r.hasOwnProperty, x = r.toString, u = k(); "function" == typeof define && "object" == typeof define.amd && define.amd ? (n.platform = u, define(function () { return u })) : q &&
        l ? c(u, function (p, H) { q[H] = p }) : n.platform = u
}).call(this);
function buildIOSMeta() { for (var a = [{ name: "viewport", content: "width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" }, { name: "apple-mobile-web-app-capable", content: "yes" }, { name: "apple-mobile-web-app-status-bar-style", content: "black" }], d = 0; d < a.length; d++) { var b = document.createElement("meta"); b.name = a[d].name; b.content = a[d].content; var c = window.document.head.querySelector('meta[name="' + b.name + '"]'); c && c.parentNode.removeChild(c); window.document.head.appendChild(b) } }
function hideIOSFullscreenPanel() { jQuery(".xxx-ios-fullscreen-message").css("display", "none"); jQuery(".xxx-ios-fullscreen-scroll").css("display", "none"); jQuery(".xxx-game-iframe-full").removeClass("xxx-game-iframe-iphone-se") } function buildIOSFullscreenPanel() { jQuery("body").append('<div class="xxx-ios-fullscreen-message"><div class="xxx-ios-fullscreen-swipe"></div></div><div class="xxx-ios-fullscreen-scroll"></div>') }
function showIOSFullscreenPanel() { jQuery(".xxx-ios-fullscreen-message").css("display", "block"); jQuery(".xxx-ios-fullscreen-scroll").css("display", "block") }
function __iosResize() {
    window.scrollTo(0, 0); console.log(window.devicePixelRatio); console.log(window.innerWidth); console.log(window.innerHeight); if ("iPhone" === platform.product) switch (window.devicePixelRatio) {
        case 2: switch (window.innerWidth) {
            case 568: 320 !== window.innerHeight && jQuery(".xxx-game-iframe-full").addClass("xxx-game-iframe-iphone-se"); break; case 667: 375 === window.innerHeight ? hideIOSFullscreenPanel() : showIOSFullscreenPanel(); break; case 808: 414 === window.innerHeight ? hideIOSFullscreenPanel() : showIOSFullscreenPanel();
                break; default: hideIOSFullscreenPanel()
        }break; case 3: switch (window.innerWidth) { case 736: 414 === window.innerHeight ? hideIOSFullscreenPanel() : showIOSFullscreenPanel(); break; case 724: 375 === window.innerHeight ? hideIOSFullscreenPanel() : showIOSFullscreenPanel(); break; case 808: 414 === window.innerHeight ? hideIOSFullscreenPanel() : showIOSFullscreenPanel(); break; default: hideIOSFullscreenPanel() }break; default: hideIOSFullscreenPanel()
    }
} function iosResize() { __iosResize(); setTimeout(function () { __iosResize() }, 500) }
function iosInIframe() { try { return window.self !== window.top } catch (a) { return !0 } } function isIOSLessThen13() { var a = platform.os, d = a.family.toLowerCase(); a = parseFloat(a.version); return "ios" === d && 13 > a ? !0 : !1 } $(document).ready(function () { platform && "iPhone" === platform.product && "safari" === platform.name.toLowerCase() && isIOSLessThen13() && !iosInIframe() && (buildIOSFullscreenPanel(), buildIOSMeta()) });
jQuery(window).resize(function () { platform && "iPhone" === platform.product && "safari" === platform.name.toLowerCase() && isIOSLessThen13() && !iosInIframe() && iosResize() }); var s_iScaleFactor = 1, s_bIsIphone = !1, s_iOffsetX, s_iOffsetY, s_bFocus = !0;
(function (a) {
    (jQuery.browser = jQuery.browser || {}).mobile = /android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,
        4))
})(navigator.userAgent || navigator.vendor || window.opera); $(window).resize(function () { sizeHandler() }); function NotImplementedError(a) { this.name = "NotImplementedError"; this.message = a || "" } NotImplementedError.prototype = Error.prototype; function error(a) { throw { name: "NotImplementedError", message: a }; } function trace(a) { console.log(a) } window.addEventListener("orientationchange", onOrientationChange); function onOrientationChange() { sizeHandler() }
function ifArrayContainsValue(a, d) { for (var b = 0; b < a.length; b++)if (a[b] === d) return !0; return !1 }
function getSize(a) {
    var d = a.toLowerCase(), b = window.document, c = b.documentElement; if (void 0 === window["inner" + a]) a = c["client" + a]; else if (window["inner" + a] != c["client" + a]) {
        var e = b.createElement("body"); e.id = "vpw-test-b"; e.style.cssText = "overflow:scroll"; var f = b.createElement("div"); f.id = "vpw-test-d"; f.style.cssText = "position:absolute;top:-1000px"; f.innerHTML = "<style>@media(" + d + ":" + c["client" + a] + "px){body#vpw-test-b div#vpw-test-d{" + d + ":7px!important}}</style>"; e.appendChild(f); c.insertBefore(e, b.head);
        a = 7 == f["offset" + a] ? c["client" + a] : window["inner" + a]; c.removeChild(e)
    } else a = window["inner" + a]; return a
}
function sizeHandler() {
    window.scrollTo(0, 1); if ($("#canvas")) {
        var a = null !== platform.name && "safari" === platform.name.toLowerCase() ? getIOSWindowHeight() : getSize("Height"); var d = getSize("Width"); s_bFocus && _checkOrientation(d, a); var b = s_iScaleFactor = Math.min(a / CANVAS_HEIGHT, d / CANVAS_WIDTH), c = Math.round(CANVAS_WIDTH * b); b = Math.round(CANVAS_HEIGHT * b); if (b < a) { var e = a - b; b += e; c += CANVAS_WIDTH / CANVAS_HEIGHT * e } else c < d && (e = d - c, c += e, b += CANVAS_HEIGHT / CANVAS_WIDTH * e); e = a / 2 - b / 2; var f = d / 2 - c / 2, g = CANVAS_WIDTH / c; if (f * g <
            -EDGEBOARD_X || e * g < -EDGEBOARD_Y) b = s_iScaleFactor = Math.min(a / (CANVAS_HEIGHT - 2 * EDGEBOARD_Y), d / (CANVAS_WIDTH - 2 * EDGEBOARD_X)), c = CANVAS_WIDTH * b, b *= CANVAS_HEIGHT, e = (a - b) / 2, f = (d - c) / 2, g = CANVAS_WIDTH / c; s_iOffsetX = -1 * f * g; s_iOffsetY = -1 * e * g; 0 <= e && (s_iOffsetY = 0); 0 <= f && (s_iOffsetX = 0); null !== s_oInterface && s_oInterface.refreshButtonPos(s_iOffsetX, s_iOffsetY); null !== s_oMenu && s_oMenu.refreshButtonPos(s_iOffsetX, s_iOffsetY); null !== s_oStore && s_oStore.refreshButtonPos(s_iOffsetX, s_iOffsetY); s_bMobile ? ($("#canvas").css("width",
                c + "px"), $("#canvas").css("height", b + "px")) : void 0 !== s_oStage && (s_oStage.canvas.width = c, s_oStage.canvas.height = b, s_iScaleFactor = Math.min(c / CANVAS_WIDTH, b / CANVAS_HEIGHT), s_oStage.scaleX = s_oStage.scaleY = s_iScaleFactor); 0 > e || (e = (a - b) / 2); $("#canvas").css("top", e + "px"); $("#canvas").css("left", f + "px"); s_oCanvasLeft = $("#canvas").offset().left; s_oCanvasTop = $("#canvas").offset().top; if (DEBUG_BOX2D) {
                    if (s_bMobile || isChrome()) $("#debug").css("width", c + "px"), $("#debug").css("height", b + "px"); 0 > e ? $("#debug").css("top",
                        e + "px") : $("#debug").css("top", "0px"); $("#debug").css("left", f + "px")
                } fullscreenHandler()
    }
}
function _checkOrientation(a, d) {
    s_bMobile && ENABLE_CHECK_ORIENTATION && (a > d ? "landscape" === $(".orientation-msg-container").attr("data-orientation") ? ($(".orientation-msg-container").css("display", "none"), s_oMain.startUpdate()) : ($(".orientation-msg-container").css("display", "block"), s_oMain.stopUpdate()) : "portrait" === $(".orientation-msg-container").attr("data-orientation") ? ($(".orientation-msg-container").css("display", "none"), s_oMain.startUpdate()) : ($(".orientation-msg-container").css("display", "block"),
        s_oMain.stopUpdate()))
} function isChrome() { return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor) } function isIOS() { if (isIpad()) return !0; for (var a = "iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";"); a.length;)if (navigator.platform === a.pop()) return s_bIsIphone = !0; return s_bIsIphone = !1 }
function isIpad() { var a = -1 !== navigator.userAgent.toLowerCase().indexOf("ipad"); return !a && navigator.userAgent.match(/Mac/) && navigator.maxTouchPoints && 2 < navigator.maxTouchPoints ? !0 : a } function isMobile() { return isIpad() ? !0 : navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i) ? !0 : !1 }
function getIOSWindowHeight() { return document.documentElement.clientWidth / window.innerWidth * window.innerHeight } function getHeightOfIOSToolbars() { var a = (0 === window.orientation ? screen.height : screen.width) - getIOSWindowHeight(); return 1 < a ? a : 0 } function getMobileOperatingSystem() { var a = navigator.userAgent || navigator.vendor || window.opera; return a.match(/iPad/i) || a.match(/iPhone/i) || a.match(/iPod/i) ? "ios" : a.match(/Android/i) ? "android" : "unknown" }
function stopSound(a) { !1 !== DISABLE_SOUND_MOBILE && !1 !== s_bMobile || s_aSounds[a].stop() } function playSound(a, d, b) { return !1 === DISABLE_SOUND_MOBILE || !1 === s_bMobile ? (s_aSounds[a].play(), s_aSounds[a].volume(d), s_aSounds[a].loop(b), s_aSounds[a]) : null } function setVolume(a, d) { !1 !== DISABLE_SOUND_MOBILE && !1 !== s_bMobile || s_aSounds[a].volume(d) } function setMute(a, d) { !1 !== DISABLE_SOUND_MOBILE && !1 !== s_bMobile || s_aSounds[d].mute(a) }
function soundPlaying(a) { if (!1 === DISABLE_SOUND_MOBILE || !1 === s_bMobile) return s_aSounds[a].playing() } function createBitmap(a, d, b) { var c = new createjs.Bitmap(a), e = new createjs.Shape; d && b ? e.graphics.beginFill("#fff").drawRect(0, 0, d, b) : e.graphics.beginFill("#ff0").drawRect(0, 0, a.width, a.height); c.hitArea = e; return c } function createSprite(a, d, b, c, e, f) { a = null !== d ? new createjs.Sprite(a, d) : new createjs.Sprite(a); d = new createjs.Shape; d.graphics.beginFill("#000000").drawRect(-b, -c, e, f); a.hitArea = d; return a }
function randomFloatBetween(a, d, b) { "undefined" === typeof b && (b = 2); return parseFloat(Math.min(a + Math.random() * (d - a), d).toFixed(b)) } function shuffle(a) { for (var d = a.length, b, c; 0 !== d;)c = Math.floor(Math.random() * d), --d, b = a[d], a[d] = a[c], a[c] = b; return a } function easeLinear(a, d, b, c) { return b * a / c + d } function easeInQuad(a, d, b, c) { return b * (a /= c) * a + d } function easeInSine(a, d, b, c) { return -b * Math.cos(a / c * (Math.PI / 2)) + b + d } function easeInCubic(a, d, b, c) { return b * (a /= c) * a * a + d }
function getTrajectoryPoint(a, d) { var b = new createjs.Point, c = (1 - a) * (1 - a), e = a * a; b.x = c * d.start.x + 2 * (1 - a) * a * d.traj.x + e * d.end.x; b.y = c * d.start.y + 2 * (1 - a) * a * d.traj.y + e * d.end.y; return b } function formatTime(a) { a /= 1E3; var d = Math.floor(a / 60); a = parseFloat(a - 60 * d).toFixed(0); var b = ""; b = 10 > d ? b + ("0" + d + ":") : b + (d + ":"); return 10 > a ? b + ("0" + a) : b + a } function degreesToRadians(a) { return a * Math.PI / 180 }
function collideEdgeWithCircle(a, d, b) { if (null === a) return !1; a = closestPointOnLine(a.getPointA(), a.getPointB(), d); d = distanceV2(d, a); return b < d ? null : { distance: d, closest_point: a } } function circleDistFromLineSeg(a, d, b) { var c = b.p2.x - b.p1.x; var e = b.p2.y - b.p1.y; var f = a - b.p1.x; var g = d - b.p1.y; var h = (f * c + g * e) / (e * e + c * c); if (0 <= h && 1 >= h) return a = c * h + b.p1.x - a, d = e * h + b.p1.y - d, Math.sqrt(d * d + a * a); a -= b.p2.x; d -= b.p2.y; return Math.min(Math.sqrt(g * g + f * f), Math.sqrt(d * d + a * a)) }
function getAngleBetweenPoints(a, d, b, c) { return 180 * Math.atan2(c - d, b - a) / Math.PI } function randomSign() { return .5 >= Math.random() ? 1 : -1 } function distanceBetweenTwoPoints(a, d, b, c) { a -= b; d -= c; return Math.sqrt(a * a + d * d) } function distance(a, d) { var b = a.x - d.x, c = a.y - d.y; return Math.sqrt(b * b + c * c) }
function closestPointOnLine(a, d, b) { var c = new CVector2; c.setV(b); c.subtractV(a); b = new CVector2; b.setV(d); b.subtractV(a); b.normalize(); c = dotProductV2(b, c); if (0 >= c) return a; if (c >= distanceV2(a, d)) return d; b.scalarProduct(c); b.addV(a); return b } function checkRectCollision(a, d) { var b = getBounds(a, .9); var c = getBounds(d, .98); return calculateIntersection(b, c) }
function calculateIntersection(a, d) { var b, c, e, f; var g = a.x + (b = a.width / 2); var h = a.y + (c = a.height / 2); var k = d.x + (e = d.width / 2); var l = d.y + (f = d.height / 2); g = Math.abs(g - k) - (b + e); h = Math.abs(h - l) - (c + f); return 0 > g && 0 > h ? (g = Math.min(Math.min(a.width, d.width), -g), h = Math.min(Math.min(a.height, d.height), -h), { x: Math.max(a.x, d.x), y: Math.max(a.y, d.y), width: g, height: h, rect1: a, rect2: d }) : null } function centerBetweenPointsV2(a, d) { var b = new CVector2; b.set(.5 * (a.getX() + d.getX()), .5 * (a.getY() + d.getY())); return b }
function dotProductV2(a, d) { return a.getX() * d.getX() + a.getY() * d.getY() } function distanceV2WithoutSquareRoot(a, d) { return (d.getX() - a.getX()) * (d.getX() - a.getX()) + (d.getY() - a.getY()) * (d.getY() - a.getY()) } function distanceV2(a, d) { return Math.sqrt((d.getX() - a.getX()) * (d.getX() - a.getX()) + (d.getY() - a.getY()) * (d.getY() - a.getY())) } function reflectVectorV2(a, d) { var b = dotProductV2(a, d); a.set(a.getX() - 2 * b * d.getX(), a.getY() - 2 * b * d.getY()); return a }
function getBounds(a, d) {
    var b = { x: Infinity, y: Infinity, width: 0, height: 0 }; if (a instanceof createjs.Container) { b.x2 = -Infinity; b.y2 = -Infinity; var c = a.children, e = c.length, f; for (f = 0; f < e; f++) { var g = getBounds(c[f], 1); g.x < b.x && (b.x = g.x); g.y < b.y && (b.y = g.y); g.x + g.width > b.x2 && (b.x2 = g.x + g.width); g.y + g.height > b.y2 && (b.y2 = g.y + g.height) } Infinity == b.x && (b.x = 0); Infinity == b.y && (b.y = 0); Infinity == b.x2 && (b.x2 = 0); Infinity == b.y2 && (b.y2 = 0); b.width = b.x2 - b.x; b.height = b.y2 - b.y; delete b.x2; delete b.y2 } else {
        if (a instanceof createjs.Bitmap) {
            e =
            a.sourceRect || a.image; f = e.width * d; var h = e.height * d
        } else if (a instanceof createjs.Sprite) if (a.spriteSheet._frames && a.spriteSheet._frames[a.currentFrame] && a.spriteSheet._frames[a.currentFrame].image) { e = a.spriteSheet.getFrame(a.currentFrame); f = e.rect.width; h = e.rect.height; c = e.regX; var k = e.regY } else b.x = a.x || 0, b.y = a.y || 0; else b.x = a.x || 0, b.y = a.y || 0; c = c || 0; f = f || 0; k = k || 0; h = h || 0; b.regX = c; b.regY = k; e = a.localToGlobal(0 - c, 0 - k); g = a.localToGlobal(f - c, h - k); f = a.localToGlobal(f - c, 0 - k); c = a.localToGlobal(0 - c, h - k); b.x =
            Math.min(Math.min(Math.min(e.x, g.x), f.x), c.x); b.y = Math.min(Math.min(Math.min(e.y, g.y), f.y), c.y); b.width = Math.max(Math.max(Math.max(e.x, g.x), f.x), c.x) - b.x; b.height = Math.max(Math.max(Math.max(e.y, g.y), f.y), c.y) - b.y
    } return b
} function NoClickDelay(a) { this.element = a; window.Touch && this.element.addEventListener("touchstart", this, !1) }
NoClickDelay.prototype = {
    handleEvent: function (a) { switch (a.type) { case "touchstart": this.onTouchStart(a); break; case "touchmove": this.onTouchMove(a); break; case "touchend": this.onTouchEnd(a) } }, onTouchStart: function (a) { a.preventDefault(); this.moved = !1; this.element.addEventListener("touchmove", this, !1); this.element.addEventListener("touchend", this, !1) }, onTouchMove: function (a) { this.moved = !0 }, onTouchEnd: function (a) {
        this.element.removeEventListener("touchmove", this, !1); this.element.removeEventListener("touchend",
            this, !1); if (!this.moved) { a = document.elementFromPoint(a.changedTouches[0].clientX, a.changedTouches[0].clientY); 3 == a.nodeType && (a = a.parentNode); var d = document.createEvent("MouseEvents"); d.initEvent("click", !0, !0); a.dispatchEvent(d) }
    }
};
(function () {
    function a(b) { var c = { focus: "visible", focusin: "visible", pageshow: "visible", blur: "hidden", focusout: "hidden", pagehide: "hidden" }; b = b || window.event; b.type in c ? document.body.className = c[b.type] : (document.body.className = this[d] ? "hidden" : "visible", "hidden" === document.body.className ? (s_oMain.stopUpdate(), s_bFocus = !1) : (s_oMain.startUpdate(), s_bFocus = !0)) } var d = "hidden"; d in document ? document.addEventListener("visibilitychange", a) : (d = "mozHidden") in document ? document.addEventListener("mozvisibilitychange",
        a) : (d = "webkitHidden") in document ? document.addEventListener("webkitvisibilitychange", a) : (d = "msHidden") in document ? document.addEventListener("msvisibilitychange", a) : "onfocusin" in document ? document.onfocusin = document.onfocusout = a : window.onpageshow = window.onpagehide = window.onfocus = window.onblur = a
})(); function ctlArcadeResume() { null !== s_oMain && s_oMain.startUpdate() } function ctlArcadePause() { null !== s_oMain && s_oMain.stopUpdate() } function toDegree(a) { return 180 / Math.PI * a }
function getParamValue(a) { for (var d = window.location.search.substring(1).split("&"), b = 0; b < d.length; b++) { var c = d[b].split("="); if (c[0] == a) return c[1] } } function saveItem(a, d) { s_bStorageAvailable && localStorage.setItem(a, d) } function getItem(a) { return s_bStorageAvailable ? localStorage.getItem(a) : null } function setItemJson(a, d) { s_bStorageAvailable && localStorage.setItem(a, JSON.stringify(d)) } function getItemJson(a) { return s_bStorageAvailable ? JSON.parse(localStorage.getItem(a)) : null }
function fullscreenHandler() { ENABLE_FULLSCREEN && screenfull.isEnabled && (s_bFullscreen = screenfull.isFullscreen, null !== s_oInterface && s_oInterface.resetFullscreenBut(), null !== s_oMenu && s_oMenu.resetFullscreenBut()) } if (screenfull.isEnabled) screenfull.on("change", function () { s_bFullscreen = screenfull.isFullscreen; null !== s_oInterface && s_oInterface.resetFullscreenBut(); null !== s_oStore && s_oStore.resetFullscreenBut(); null !== s_oMenu && s_oMenu.resetFullscreenBut() });
function CSpriteLibrary() {
    var abc = "";
    var a = {}, d, b, c, e, f, g; this.init = function (h, k, l) { d = {}; c = b = 0; e = h; f = k; g = l }; 
    this.addSprite = function (h, k) 
    { if (!a.hasOwnProperty(h)) { var l = new Image; a[h] = d[h] = 
        { szPath: k, oSprite: l, bLoaded: !1 }; b++ } }; this.getSprite = function (h) { return a.hasOwnProperty(h) ? a[h].oSprite : null }; this._onSpritesLoaded = function () { b = 0; f.call(g) }; this._onSpriteLoaded = function () { e.call(g); ++c === b && this._onSpritesLoaded() }; this.loadSprites = function () {
        for (var h in d) {
            abc += d[h].szPath + ","
            d[h].oSprite.oSpriteLibrary = this, d[h].oSprite.szKey =
            h, d[h].oSprite.onload = function () { this.oSpriteLibrary.setLoaded(this.szKey); this.oSpriteLibrary._onSpriteLoaded(this.szKey) }, d[h].oSprite.onerror = function (k) { var l = k.currentTarget; setTimeout(function () { d[l.szKey].oSprite.src = d[l.szKey].szPath }, 500) }, d[h].oSprite.src = d[h].szPath
        }abc; 
    }; this.setLoaded = function (h) { a[h].bLoaded = !0 }; this.isLoaded = function (h) { return a[h].bLoaded }; this.getNumSprites = function () { return b }
}
var CANVAS_WIDTH = 980, CANVAS_HEIGHT = 1400, CANVAS_WIDTH_HALF = .5 * CANVAS_WIDTH, CANVAS_HEIGHT_HALF = .5 * CANVAS_HEIGHT, EDGEBOARD_X = 100, EDGEBOARD_Y = 100, FPS = 30, FPS_TIME = 1E3 / FPS, DISABLE_SOUND_MOBILE = !1, PRIMARY_FONT = "comfortaa", PRIMARY_FONT_COLOUR = "#ffffff", SECONDARY_FONT_COLOUR = "#132b41", FONT_SIZE_INTERFACE = "36px ", FONT_SIZE_MENU_BEST_SCORE = "36px ", FONT_SIZE_CREDITS = "36px ", FONT_SIZE_HELP = "32px ", FONT_SIZE_MSG_BOX = "26px ", FONT_SIZE_ARE_YOU_SURE = "36px ", FONT_SIZE_TITLES = "60px ", FONT_SIZE_STORE_BUTTON = "26px ",
    FONT_SIZE_END_PANEL_TITLE = "40px ", FONT_SIZE_END_PANEL_TEXT = "32px ", FONT_SIZE_TEXT_MESSAGE = "60px ", BOTTLES_NUMBER = 12, BOTTLES_PRICES = [0, 1, 3, 5, 10, 15, 20, 25, 30, 50, 100, 150], ALL_BOTTLES_UNLOCKED = !1, STARTING_CREDITS, LAUNCH_POINTS, LAUNCH_CREDITS, LAUNCH_DISTANCE_VAR = 10, LAUNCH_DISTANCE_MIN = 19, LAUNCH_DISTANCE_CORRECT = 22, LAUNCH_DISTANCE_MAX = 23, SWIPE_DISTANCE_MINIMUM = 100, SWIPE_DISTANCE_LIMIT_MIN = 350, SWIPE_DISTANCE_LIMIT_MAX = 450, LAUNCH_WRONG_RANDOMIZER = 5, LAUNCH_CORRECT_MIN_RANDOM = -.2, LAUNCH_CORRECT_MAX_RANDOM = .03,
    BOTTLE_ROTATION = 5, TEXT_MESSAGES_SPEED = 1500, SWIPE_TIMER_MAX = 500, NUM_ROWS_PAGE_STORE = 5, NUM_COLS_PAGE_STORE = 3, TIMESTEP = 1 / 60, VELOCITY_ITERATIONS = 10, POSITION_ITERATIONS = 10, UPDATE_LOOP_VAR = 3, DEBUG_BOX2D = !1, DEBUG_BOX2D_ALPHA = .5, WORLD_SCALE = 100, GRAVITY = 9.81, FLOOR_DENSITY = 1, FLOOR_FRICTION = 1, FLOOR_RESTITUTION = .1, FLOOR_X_START = CANVAS_WIDTH_HALF, FLOOR_Y_START = CANVAS_HEIGHT - 210, BOTTLE_X_START = CANVAS_WIDTH_HALF, BOTTLE_Y_START = CANVAS_HEIGHT_HALF + 350, BOTTLE_DENSITY = 1, BOTTLE_FRICTION = 1, BOTTLE_RESTITUTION = .1, DYNAMIC_BODY =
        0, STATIC_BODY = 1, KINEMATIC_BODY = 2, CONTACT_BEGIN = 0, CONTACT_END = 1, CONTACT_PRESOLVE = 2, CONTACT_POSTSOLVE = 3, ENABLE_FULLSCREEN, ENABLE_CHECK_ORIENTATION, STATE_LOADING = 0, STATE_MENU = 1, STATE_HELP = 2, STATE_GAME = 3, STATE_STORE = 4, ON_MOUSE_DOWN = 0, ON_MOUSE_UP = 1, ON_MOUSE_OVER = 2, ON_MOUSE_OUT = 3, BOTTLE_SETTINGS = {
            polygons: [[{ x: .43770840764045715, y: .7455205321311951 }, { x: .5664584040641785, y: .746145486831665 }, { x: .5658334493637085, y: .980520486831665 }, { x: .53020840883255, y: 1.0786454677581787 }, { x: .4733334183692932, y: 1.0786454677581787 },
            { x: .4370834231376648, y: .983645498752594 }]], circles: [], shapes: [{ type: "POLYGON", vertices: [{ x: .43770840764045715, y: .7455205321311951 }, { x: .5664584040641785, y: .746145486831665 }, { x: .5658334493637085, y: .980520486831665 }, { x: .53020840883255, y: 1.0786454677581787 }, { x: .4733334183692932, y: 1.0786454677581787 }, { x: .4370834231376648, y: .983645498752594 }] }]
        };
CTLText.prototype = {
    constructor: CTLText, __autofit: function () { if (this._bFitText) { for (var a = this._iFontSize; (this._oText.getBounds().height > this._iHeight - 2 * this._iPaddingV || this._oText.getBounds().width > this._iWidth - 2 * this._iPaddingH) && !(a--, this._oText.font = a + "px " + this._szFont, this._oText.lineHeight = Math.round(a * this._fLineHeightFactor), this.__updateY(), this.__verticalAlign(), 8 > a);); this._iFontSize = a } }, __verticalAlign: function () {
        if (this._bVerticalAlign) {
            var a = this._oText.getBounds().height; this._oText.y -=
                (a - this._iHeight) / 2 + this._iPaddingV
        }
    }, __updateY: function () { this._oText.y = this._y + this._iPaddingV; switch (this._oText.textBaseline) { case "middle": this._oText.y += this._oText.lineHeight / 2 + (this._iFontSize * this._fLineHeightFactor - this._iFontSize) } }, __createText: function (a) {
        this._bDebug && (this._oDebugShape = new createjs.Shape, this._oDebugShape.graphics.beginFill("rgba(255,0,0,0.5)").drawRect(this._x, this._y, this._iWidth, this._iHeight), this._oContainer.addChild(this._oDebugShape)); this._oText = new createjs.Text(a,
            this._iFontSize + "px " + this._szFont, this._szColor); this._oText.textBaseline = "middle"; this._oText.lineHeight = Math.round(this._iFontSize * this._fLineHeightFactor); this._oText.textAlign = this._szAlign; this._oText.lineWidth = this._bMultiline ? this._iWidth - 2 * this._iPaddingH : null; switch (this._szAlign) { case "center": this._oText.x = this._x + this._iWidth / 2; break; case "left": this._oText.x = this._x + this._iPaddingH; break; case "right": this._oText.x = this._x + this._iWidth - this._iPaddingH }this._oContainer.addChild(this._oText);
        this.refreshText(a)
    }, setVerticalAlign: function (a) { this._bVerticalAlign = a }, setVisible: function (a) { this._oText.visible = a }, setOutline: function (a) { null !== this._oText && (this._oText.outline = a) }, setShadow: function (a, d, b, c) { null !== this._oText && (this._oText.shadow = new createjs.Shadow(a, d, b, c)) }, setColor: function (a) { this._oText.color = a }, setAlpha: function (a) { this._oText.alpha = a }, setY: function (a) { this._y = this._oText.y = a; this.updateDebug() }, setX: function (a) { this._x = this._oText.x = a; this.updateDebug() }, updateDebug: function () {
        this._bDebug &&
        (this._oDebugShape.graphics.command.x = this._x, this._oDebugShape.graphics.command.y = this._y)
    }, removeTweens: function () { createjs.Tween.removeTweens(this._oText) }, getText: function () { return this._oText }, getX: function () { return this._x }, getY: function () { return this._y }, getFontSize: function () { return this._iFontSize }, getBounds: function () { return this._oText.getBounds() }, refreshText: function (a) {
        "" === a && (a = " "); null === this._oText && this.__createText(a); this._oText.text = a; this._oText.font = this._iFontSize + "px " +
            this._szFont; this._oText.lineHeight = Math.round(this._iFontSize * this._fLineHeightFactor); this.__autofit(); this.__updateY(); this.__verticalAlign()
    }
};
function CTLText(a, d, b, c, e, f, g, h, k, l, n, q, r, v, t, z, x) { this._oContainer = a; this._x = d; this._y = b; this._iWidth = c; this._iHeight = e; this._bMultiline = z; this._iFontSize = f; this._szAlign = g; this._szColor = h; this._szFont = k; this._iPaddingH = n; this._iPaddingV = q; this._bVerticalAlign = t; this._bFitText = v; this._bDebug = x; this._oDebugShape = null; this._fLineHeightFactor = l; this._oText = null; r && this.__createText(r) }
function CPreloader() {
    var a, d, b, c, e, f, g, h, k; this._init = function () { s_oSpriteLibrary.init(this._onImagesLoaded, this._onAllImagesLoaded, this); s_oSpriteLibrary.addSprite("progress_bar", "sprites/progress_bar.png"); s_oSpriteLibrary.addSprite("200x200", "sprites/200x200.jpg"); s_oSpriteLibrary.loadSprites(); k = new createjs.Container; s_oStage.addChild(k) }; this.unload = function () { k.removeAllChildren() }; this._onImagesLoaded = function () { }; this._onAllImagesLoaded = function () { this.attachSprites(); s_oMain.preloaderReady() };
    this.attachSprites = function () {
        var l = new createjs.Shape; l.graphics.beginFill("black").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); k.addChild(l); l = s_oSpriteLibrary.getSprite("200x200"); g = createBitmap(l); g.regX = .5 * l.width; g.regY = .5 * l.height; g.x = CANVAS_WIDTH_HALF; g.y = CANVAS_HEIGHT_HALF - 180; k.addChild(g); h = new createjs.Shape; h.graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(g.x - 100, g.y - 100, 200, 200, 10); k.addChild(h); g.mask = h; l = s_oSpriteLibrary.getSprite("progress_bar"); c = createBitmap(l); c.x = CANVAS_WIDTH_HALF -
            l.width / 2; c.y = CANVAS_HEIGHT_HALF + 50; k.addChild(c); a = l.width; d = l.height; e = new createjs.Shape; e.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(c.x, c.y, 1, d); k.addChild(e); c.mask = e; b = new CTLText(k, CANVAS_WIDTH_HALF - 250, CANVAS_HEIGHT_HALF + 100 - 35, 500, 70, 20, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, "", !0, !0, !0, !1); f = new createjs.Shape; f.graphics.beginFill("black").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); k.addChild(f); createjs.Tween.get(f).to({ alpha: 0 }, 500).call(function () {
                createjs.Tween.removeTweens(f);
                k.removeChild(f)
            })
    }; this.refreshLoader = function (l) { b.refreshText(l + "%"); 100 === l && (s_oMain._onRemovePreloader(), b.visible = !1, c.visible = !1); e.graphics.clear(); l = Math.floor(l * a / 100); e.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(c.x, c.y, l, d) }; this._init()
}
var abcd="";
function CMain(a) {
    var d, b = 0, c = 0, e = STATE_LOADING, f, g, h; this.initContainer = function () {
        s_oCanvas = document.getElementById("canvas"); s_oStage = new createjs.Stage(s_oCanvas); s_oStage.preventSelection = !1; createjs.Touch.enable(s_oStage, !0); s_bMobile = isMobile(); !1 === s_bMobile && (s_oStage.enableMouseOver(20), $("body").on("contextmenu", "#canvas", function (l) { return !1 })); s_iPrevTime = (new Date).getTime(); createjs.Ticker.addEventListener("tick", this._update); createjs.Ticker.framerate = FPS; navigator.userAgent.match(/Windows Phone/i) &&
            (DISABLE_SOUND_MOBILE = !0); s_oSpriteLibrary = new CSpriteLibrary;f = new CPreloader
    }; this.preloaderReady = function () { this._loadImages(); !1 !== DISABLE_SOUND_MOBILE && !1 !== s_bMobile || this._initSounds(); d = !0 }; this.soundLoaded = function () { b++; f.refreshLoader(Math.floor(b / c * 100)) }; this._initSounds = function () {
        Howler.mute(!s_bAudioActive); s_aSoundsInfo = []; s_aSoundsInfo.push({
            path: "sounds/", filename: "soundtrack", loop: !0, volume: 1,
            ingamename: "soundtrack"
        }); s_aSoundsInfo.push({ path: "sounds/", filename: "click", loop: !1, volume: 1, ingamename: "click" }); s_aSoundsInfo.push({ path: "sounds/", filename: "collision_glass", loop: !1, volume: 1, ingamename: "collision_glass" }); s_aSoundsInfo.push({ path: "sounds/", filename: "collision_metal", loop: !1, volume: 1, ingamename: "collision_metal" }); s_aSoundsInfo.push({ path: "sounds/", filename: "collision_plastic", loop: !1, volume: 1, ingamename: "collision_plastic" }); s_aSoundsInfo.push({
            path: "sounds/", filename: "liquid",
            loop: !1, volume: 1, ingamename: "liquid"
        }); s_aSoundsInfo.push({ path: "sounds/", filename: "bonus", loop: !1, volume: 1, ingamename: "bonus" }); s_aSoundsInfo.push({ path: "sounds/", filename: "wronglaunch", loop: !1, volume: 1, ingamename: "wronglaunch" }); s_aSoundsInfo.push({ path: "sounds/", filename: "tryagain", loop: !1, volume: 1, ingamename: "tryagain" }); s_aSoundsInfo.push({ path: "sounds/", filename: "swish", loop: !1, volume: 1, ingamename: "swish" }); s_aSoundsInfo.push({ path: "sounds/", filename: "no_funds", loop: !1, volume: 1, ingamename: "no_funds" });
        s_aSoundsInfo.push({ path: "sounds/", filename: "purchase", loop: !1, volume: 1, ingamename: "purchase" }); s_aSoundsInfo.push({ path: "sounds/", filename: "game_over", loop: !1, volume: 1, ingamename: "game_over" }); s_aSoundsInfo.push({ path: "sounds/", filename: "newbestscore", loop: !1, volume: 1, ingamename: "newbestscore" }); c += s_aSoundsInfo.length; s_aSounds = []; for (var l = 0; l < s_aSoundsInfo.length; l++)this.tryToLoadSound(s_aSoundsInfo[l], !1)
    }; this.tryToLoadSound = function (l, n) {
        abcd+=l.path+l.filename+".mp3,";
        setTimeout(function () {
            s_aSounds[l.ingamename] =
            new Howl({
                src: [l.path + l.filename + ".mp3"], autoplay: !1, preload: !0, loop: l.loop, volume: l.volume, onload: s_oMain.soundLoaded, onloaderror: function (q, r) { for (var v = 0; v < s_aSoundsInfo.length; v++)if (0 < s_aSounds[s_aSoundsInfo[v].ingamename]._sounds.length && q === s_aSounds[s_aSoundsInfo[v].ingamename]._sounds[0]._id) { s_oMain.tryToLoadSound(s_aSoundsInfo[v], !0); break } else document.querySelector("#block_game").style.display = "none" }, onplayerror: function (q) {
                    for (var r = 0; r < s_aSoundsInfo.length; r++)if (q === s_aSounds[s_aSoundsInfo[r].ingamename]._sounds[0]._id) {
                        s_aSounds[s_aSoundsInfo[r].ingamename].once("unlock",
                            function () { s_aSounds[s_aSoundsInfo[r].ingamename].play(); "soundtrack" === s_aSoundsInfo[r].ingamename && null !== s_oGame && setVolume("soundtrack", SOUNDTRACK_VOLUME_IN_GAME) }); break
                    }
                }
            })
        }, n ? 200 : 0)
    }; this._loadImages = function () {
        s_oSpriteLibrary.init(this._onImagesLoaded, this._onAllImagesLoaded, this); for (var l = 0; l < BOTTLES_NUMBER; l++)s_oSpriteLibrary.addSprite("bottle" + l, "sprites/bottle" + l + ".png"); s_oSpriteLibrary.addSprite("but_exit", "sprites/but_exit.png"); s_oSpriteLibrary.addSprite("audio_icon", "sprites/audio_icon.png");
        s_oSpriteLibrary.addSprite("but_play", "sprites/but_play.png"); s_oSpriteLibrary.addSprite("but_restart", "sprites/but_restart.png"); s_oSpriteLibrary.addSprite("but_home", "sprites/but_home.png"); s_oSpriteLibrary.addSprite("msg_box", "sprites/msg_box.png"); s_oSpriteLibrary.addSprite("msg_box_big", "sprites/msg_box_big.png"); s_oSpriteLibrary.addSprite("but_credits", "sprites/but_credits.png"); s_oSpriteLibrary.addSprite("logo_ctl", "sprites/logo_ctl.png"); s_oSpriteLibrary.addSprite("but_fullscreen",
            "sprites/but_fullscreen.png"); s_oSpriteLibrary.addSprite("bg", "sprites/bg.jpg"); s_oSpriteLibrary.addSprite("floor", "sprites/floor.png"); s_oSpriteLibrary.addSprite("coin", "sprites/coin.png"); s_oSpriteLibrary.addSprite("bg_menu", "sprites/bg_menu.jpg"); s_oSpriteLibrary.addSprite("bg_game0", "sprites/bg_game0.jpg"); s_oSpriteLibrary.addSprite("bg_game1", "sprites/bg_game1.jpg"); s_oSpriteLibrary.addSprite("bg_store", "sprites/bg_store.jpg"); s_oSpriteLibrary.addSprite("but_no", "sprites/but_no.png");
        s_oSpriteLibrary.addSprite("but_yes", "sprites/but_yes.png"); s_oSpriteLibrary.addSprite("but_store", "sprites/but_store.png"); s_oSpriteLibrary.addSprite("logo_menu", "sprites/logo_menu.png"); s_oSpriteLibrary.addSprite("help_hand", "sprites/help_hand.png"); c += s_oSpriteLibrary.getNumSprites(); s_oSpriteLibrary.loadSprites()
    }; this._onImagesLoaded = function () { b++; f.refreshLoader(Math.floor(b / c * 100)) }; this._onAllImagesLoaded = function () { }; this.onAllPreloaderImagesLoaded = function () { this._loadImages() };
    this._onRemovePreloader = function () { try { saveItem("ls_available", "ok") } catch (l) { s_bStorageAvailable = !1 } f.unload(); isIOS() || !1 !== DISABLE_SOUND_MOBILE && !1 !== s_bMobile || (s_oSoundTrack = playSound("soundtrack", 1, !0)); this.gotoMenu() }; this.gotoMenu = function () { g = new CMenu; e = STATE_MENU }; this.gotoGame = function () { $("#canvas").trigger("start_session"); h = new CGame(k); e = STATE_GAME }; this.gotoStore = function () { new CStore; e = STATE_STORE }; this.gotoHelp = function () { new CHelp; e = STATE_HELP }; this.stopUpdate = function () {
        d = !1;
        createjs.Ticker.paused = !0; $("#block_game").css("display", "block"); !1 !== DISABLE_SOUND_MOBILE && !1 !== s_bMobile || Howler.mute(!0)
    }; this.startUpdate = function () { s_iPrevTime = (new Date).getTime(); d = !0; createjs.Ticker.paused = !1; $("#block_game").css("display", "none"); (!1 === DISABLE_SOUND_MOBILE || !1 === s_bMobile) && s_bAudioActive && Howler.mute(!1) }; this._update = function (l) {
        if (!1 !== d) {
            var n = (new Date).getTime(); s_iTimeElaps = n - s_iPrevTime; s_iCntTime += s_iTimeElaps; s_iCntFps++; s_iPrevTime = n; 1E3 <= s_iCntTime && (s_iCurFps =
                s_iCntFps, s_iCntTime -= 1E3, s_iCntFps = 0); e === STATE_MENU && g.update(); e === STATE_GAME && h.update(); s_oStage.update(l)
        }
    }; s_oMain = this; var k = a; STARTING_CREDITS = a.starting_credits; LAUNCH_POINTS = a.launch_points; LAUNCH_CREDITS = a.launch_credits; ENABLE_FULLSCREEN = a.fullscreen; ENABLE_CHECK_ORIENTATION = a.check_orientation; s_bAudioActive = a.audio_enable_on_startup; this.initContainer()
}
var s_bMobile, s_bAudioActive = !0, s_bFullscreen = !1, s_iCntTime = 0, s_iTimeElaps = 0, s_iPrevTime = 0, s_iCntFps = 0, s_iCurFps = 0, s_oStage, s_oMain, s_oSpriteLibrary, s_oSoundTrack = null, s_oCanvas, s_iTotalScore = 0, s_iBestScore = 0, s_aSounds, s_aSoundsInfo, s_oPhysicsController, s_bStorageAvailable = !0, s_bFirstTimePlaying, s_aBottlesUnlocked = [], s_iBottleType = 0, s_iTotalCredits = 0;
function CMenu() {
    var a, d, b, c, e, f, g, h, k, l, n, q, r, v = null, t = null, z, x; this._init = function () {
        g = new createjs.Container; s_oStage.addChild(g); var u = createBitmap(s_oSpriteLibrary.getSprite("bg_menu")); g.addChild(u); s_bFirstTimePlaying = !0; u = s_oSpriteLibrary.getSprite("logo_menu"); h = createBitmap(u); h.regX = u.width / 2; h.regY = u.height / 2; h.x = CANVAS_WIDTH / 2; h.y = -150; createjs.Tween.get(h, { loop: !1 }).to({ y: CANVAS_HEIGHT_HALF - 180 }, 1E3, createjs.Ease.cubicOut); g.addChild(h); u = CANVAS_WIDTH_HALF; var p = CANVAS_HEIGHT_HALF + 180;
        x = new CTLText(g, u - 225, p - 50, 450, 100, 36, "center", SECONDARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_BEST_SCORE + 0, !0, !0, !0, !1); x.setOutline(5); x.setVisible(!1); z = new CTLText(g, u - 225, p - 50, 450, 100, 36, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_BEST_SCORE + 0, !0, !0, !0, !1); z.setVisible(!1); u = s_oSpriteLibrary.getSprite("but_play"); k = new CGfxButton(CANVAS_WIDTH_HALF, CANVAS_HEIGHT + 200, u, g); createjs.Tween.get(k.getSprite(), { loop: !1 }).to({ y: CANVAS_HEIGHT_HALF + 350 }, 1E3, createjs.Ease.cubicOut); k.addEventListener(ON_MOUSE_UP,
            this._onButPlayRelease, this); u = s_oSpriteLibrary.getSprite("but_credits"); b = 20 + u.width / 2; c = u.height / 2 + 10; q = new CGfxButton(b, c, u, g); q.addEventListener(ON_MOUSE_UP, this._onCredits, this); if (!1 === DISABLE_SOUND_MOBILE || !1 === s_bMobile) u = s_oSpriteLibrary.getSprite("audio_icon"), e = CANVAS_WIDTH - u.width / 4 - 20, f = u.height / 2 + 10, n = new CToggle(e, f, u, s_bAudioActive, g), n.addEventListener(ON_MOUSE_UP, this._onAudioToggle, this); u = window.document; p = u.documentElement; v = p.requestFullscreen || p.mozRequestFullScreen || p.webkitRequestFullScreen ||
                p.msRequestFullscreen; t = u.exitFullscreen || u.mozCancelFullScreen || u.webkitExitFullscreen || u.msExitFullscreen; !1 === ENABLE_FULLSCREEN && (v = !1); v && screenfull.isEnabled && (u = s_oSpriteLibrary.getSprite("but_fullscreen"), a = b + u.width / 2 + 10, d = c, r = new CToggle(a, d, u, s_bFullscreen, g), r.addEventListener(ON_MOUSE_UP, this._onFullscreenRelease, this)); l = new createjs.Shape; l.graphics.beginFill("black").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); g.addChild(l); createjs.Tween.get(l).to({ alpha: 0 }, 1E3).call(function () { g.removeChild(l) });
        if (s_bStorageAvailable) if (u = getItem("flipthebottle_total_score"), s_iTotalScore = null !== u && void 0 !== u ? Number(u) : 0, s_iBestScore = 0, x.setVisible(!1), z.setVisible(!1), u = getItem("flipthebottle_best_score"), null !== u && void 0 !== u && (s_iBestScore = Number(u), x.setVisible(!0), z.setVisible(!0)), x.refreshText(TEXT_BEST_SCORE + s_iBestScore), z.refreshText(TEXT_BEST_SCORE + s_iBestScore), s_iTotalCredits = STARTING_CREDITS, u = getItem("flipthebottle_total_credits"), null !== u & void 0 !== u && (s_iTotalCredits = Number(u)), u = getItemJson("flipthebottle_bottles_unlocked"),
            null !== u) s_aBottlesUnlocked = u; else { for (u = 0; u < BOTTLES_NUMBER; u++)s_aBottlesUnlocked.push(!1); s_aBottlesUnlocked[0] = !0 } else new CMsgBox(TEXT_ERR_LS, g); this.refreshButtonPos(s_iOffsetX, s_iOffsetY)
    }; this.unload = function () { k.unload(); k = null; q.unload(); g.removeAllChildren(); if (!1 === DISABLE_SOUND_MOBILE || !1 === s_bMobile) n.unload(), n = null; v && screenfull.isEnabled && r.unload(); s_oMenu = null }; this.refreshButtonPos = function (u, p) {
        !1 !== DISABLE_SOUND_MOBILE && !1 !== s_bMobile || n.setPosition(e - u, f + p); v && screenfull.isEnabled &&
            r.setPosition(a + u, d + p); q.setPosition(b + u, c + p)
    }; this.resetFullscreenBut = function () { v && screenfull.isEnabled && r.setActive(s_bFullscreen) }; this.exitFromCredits = function () { }; this._onAudioToggle = function () { Howler.mute(s_bAudioActive); s_bAudioActive = !s_bAudioActive }; this._onCredits = function () { new CCreditsPanel }; this._onButPlayRelease = function () { this.unload(); s_oMain.gotoStore() }; this._onFullscreenRelease = function () { s_bFullscreen ? t.call(window.document) : v.call(window.document.documentElement); sizeHandler() };
    this.update = function () { }; s_oMenu = this; this._init()
} var s_oMenu = null;
function CStore() {
    var a, d, b, c, e, f, g, h, k, l, n, q, r, v, t, z, x, u, p = null, H = null, I, B, w, F, y, J, U = null, Z = null; this._init = function () {
        n = s_iTotalCredits; var D = new createjs.Shape; D.graphics.beginFill("#000000").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); D.alpha = .7; q = 0; y = new createjs.Container; s_oStage.addChild(y); var G = createBitmap(s_oSpriteLibrary.getSprite("bg_store")); y.addChild(G); y.addChild(D); g = CANVAS_WIDTH_HALF; h = CANVAS_HEIGHT_HALF - 470; G = g; var L = h, K = 450, P = 100; I = new CTLText(s_oStage, G - K / 2, L - P / 2, K, P, 60, "center",
            SECONDARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_STORE, !0, !0, !0, !1); I.setOutline(5); new CTLText(s_oStage, G - K / 2, L - P / 2, K, P, 60, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_STORE, !0, !0, !0, !1); D = s_oSpriteLibrary.getSprite("but_exit"); r = D.height; a = CANVAS_WIDTH - D.width / 2 - 20; d = D.height / 2 + 10; x = new CGfxButton(a, d, D, y); x.addEventListener(ON_MOUSE_UP, this._onExit, this); k = 50; l = d + 95; G = s_oSpriteLibrary.getSprite("coin"); F = createBitmap(G); F.regX = .5 * G.width; F.regY = .5 * G.height; F.x = k; F.y = l; y.addChild(F); G = k + 140;
        L = l + 5; K = 200; P = 70; B = new CTLText(y, G - K / 2, L - P / 2, K, P, 60, "left", SECONDARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, String(n), !0, !0, !0, !1); B.setOutline(5); w = new CTLText(y, G - K / 2, L - P / 2, K, P, 60, "left", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, String(n), !0, !0, !0, !1); !1 === DISABLE_SOUND_MOBILE || !1 === s_bMobile ? (G = s_oSpriteLibrary.getSprite("audio_icon"), e = a - D.width / 2 - G.width / 4 - 10, f = d, u = new CToggle(e, f, G, s_bAudioActive, y), u.addEventListener(ON_MOUSE_UP, this._onAudioToggle, this), b = e - D.width / 2 - G.width / 4 - 10, c = G.height / 2 + 10) : (b =
            a - D.width - 10, c = d); D = window.document; G = D.documentElement; U = G.requestFullscreen || G.mozRequestFullScreen || G.webkitRequestFullScreen || G.msRequestFullscreen; Z = D.exitFullscreen || D.mozCancelFullScreen || D.webkitExitFullscreen || D.msExitFullscreen; !1 === ENABLE_FULLSCREEN && (U = !1); U && screenfull.isEnabled && (G = s_oSpriteLibrary.getSprite("but_fullscreen"), J = new CToggle(b, c, G, s_bFullscreen, y), J.addEventListener(ON_MOUSE_UP, this._onFullscreenRelease, this)); this.refreshButtonPos(s_iOffsetX, s_iOffsetY); this._checkBoundLimits();
        t = []; K = CANVAS_WIDTH - 2 * EDGEBOARD_X; D = Math.floor(K / NUM_COLS_PAGE_STORE) / 2 - 30; for (L = G = 0; L < NUM_COLS_PAGE_STORE; L++)t.push(G), G += 2 * D; z = []; this._createNewBottlePage(0, BOTTLES_NUMBER); if (1 < z.length) {
            for (D = 1; D < z.length; D++)z[D].visible = !1; p = new CGfxButton(CANVAS_WIDTH_HALF + 450, CANVAS_HEIGHT_HALF, s_oSpriteLibrary.getSprite("arrow_select_level"), s_oStage); p.getButtonImage().rotation = 90; p.addEventListener(ON_MOUSE_UP, this._onRight, this); H = new CGfxButton(CANVAS_WIDTH_HALF - 450, CANVAS_HEIGHT_HALF, s_oSpriteLibrary.getSprite("arrow_select_level"),
                s_oStage); H.getButtonImage().rotation = -90; H.addEventListener(ON_MOUSE_UP, this._onLeft, this)
        } var S = new createjs.Shape; S.graphics.beginFill("black").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); s_oStage.addChild(S); createjs.Tween.get(S).to({ alpha: 0 }, 1E3).call(function () { S.visible = !1 })
    }; this.checkBottlePrice = function (D) { if (s_iTotalCredits < BOTTLES_PRICES[D]) this.onNotEnoughCredits(); else this.onPurchase(D) }; this.onNotEnoughCredits = function () { !1 === soundPlaying("no_funds") && playSound("no_funds", 1, 0) }; this.onPurchase =
        function (D) { playSound("purchase", 1, 0); n -= BOTTLES_PRICES[D]; w.refreshText(String(n)); B.refreshText(String(n)); s_iTotalCredits = n; saveItem("flipthebottle_total_credits", s_iTotalCredits); this._onButBottleRelease(D) }; this.unload = function () { for (var D = 0; D < v.length; D++)v[D].unload(); !1 !== DISABLE_SOUND_MOBILE && !1 !== s_bMobile || u.unload(); U && screenfull.isEnabled && J.unload(); x.unload(); null !== H && (H.unload(), p.unload()); s_oStage.removeAllChildren(); s_oStore = null }; this.refreshButtonPos = function (D, G) {
            !1 !== DISABLE_SOUND_MOBILE &&
            !1 !== s_bMobile || u.setPosition(e - D, f + G); U && screenfull.isEnabled && J.setPosition(b - D, c + G); x.setPosition(a - D, d + G); void 0 !== w && (F.x = k - 10 + D, F.y = x.getY() - 10, B.setX(F.x + 50), B.setY(x.getY() - 5), w.setX(B.getX()), w.setY(B.getY()))
        }; this._checkBoundLimits = function () {
            for (var D = s_oSpriteLibrary.getSprite("but_store"), G = 0, L = CANVAS_HEIGHT - 2 * EDGEBOARD_Y - 2 * r, K = 0; G < L;)G += D.height + 20, K++; NUM_ROWS_PAGE_STORE > K && (NUM_ROWS_PAGE_STORE = K); L = G = 0; K = CANVAS_WIDTH - 2 * EDGEBOARD_X; for (D = s_oSpriteLibrary.getSprite("but_store"); L < K;)L +=
                D.width / 2 + 5, G++; NUM_COLS_PAGE_STORE > G && (NUM_COLS_PAGE_STORE = G)
        }; this._createNewBottlePage = function (D, G) {
            var L = new createjs.Container; y.addChild(L); z.push(L); v = []; for (var K = 0, P = 0, S = 1, W = !1, m = s_oSpriteLibrary.getSprite("but_store"), E = D; E < G; E++) {
                var T = new CStoreBut(t[K] + m.width / 4, P + m.height / 2 + 30, E, m, !0 === ALL_BOTTLES_UNLOCKED ? !0 : s_aBottlesUnlocked[E], L); T.addEventListenerWithParams(ON_MOUSE_UP, this._onButBottleRelease, this, E); v.push(T); K++; if (K === t.length && E < G - 1 && (K = 0, P += m.height + 50, S++, S > NUM_ROWS_PAGE_STORE)) {
                    W =
                    !0; break
                }
            } L.x = CANVAS_WIDTH_HALF; L.y = CANVAS_HEIGHT_HALF; L.regX = L.getBounds().width / 2; L.regY = L.getBounds().height / 2; W && this._createNewBottlePage(E + 1, G)
        }; this._onRight = function () { z[q].visible = !1; q++; q >= z.length && (q = 0); z[q].visible = !0 }; this._onLeft = function () { z[q].visible = !1; q--; 0 > q && (q = z.length - 1); z[q].visible = !0 }; this._onButBottleRelease = function (D) { v[D].setActive(0, !0); s_aBottlesUnlocked[D] = !0; setItemJson("flipthebottle_bottles_unlocked", s_aBottlesUnlocked); s_iBottleType = D; this.unload(); s_oMain.gotoGame() };
    this._onAudioToggle = function () { Howler.mute(s_bAudioActive); s_bAudioActive = !s_bAudioActive }; this.setAudio = function (D) { u.setActive(D) }; this._onFullscreenRelease = function () { s_bFullscreen ? Z.call(window.document) : U.call(window.document.documentElement); sizeHandler() }; this.resetFullscreenBut = function () { U && screenfull.isEnabled && J.setActive(s_bFullscreen) }; this._onExit = function () { this.unload(); s_oMain.gotoMenu() }; s_oStore = this; this._init()
} var s_oStore = null;
function CStoreBut(a, d, b, c, e, f) {
    var g, h, k, l = [], n = [], q, r, v, t, z; this._init = function (u, p, H, I, B) {
        h = []; k = []; v = new createjs.Container; x.addChild(v); var w = new createjs.SpriteSheet({ images: [I], frames: { width: I.width / 2, height: I.height, regX: I.width / 2 / 2, regY: I.height / 2 }, animations: { state_true: [0], state_false: [1] } }); g = B; r = createSprite(w, "state_" + g, I.width / 2 / 2, I.height / 2, I.width / 2, I.height); r.mouseEnabled = B; r.x = u; r.y = p; r.stop(); v.addChild(r); l.push(r); u = s_oSpriteLibrary.getSprite("bottle" + H); q = createBitmap(u);
        q.regX = .5 * u.width; q.regY = .5 * u.height; q.scaleX = q.scaleY = .5; q.x = r.x; q.y = r.y - 8; v.addChild(q); !s_bMobile && g && (v.cursor = "pointer"); g || (u = s_oSpriteLibrary.getSprite("coin"), p = createBitmap(u), p.regX = .5 * u.width, p.regY = .5 * u.height, p.scaleX = p.scaleY = .7, p.x = r.x - 25, p.y = r.y + 95, v.addChild(p), u = new createjs.Text(BOTTLES_PRICES[H], FONT_SIZE_STORE_BUTTON + PRIMARY_FONT, SECONDARY_FONT_COLOUR), u.textAlign = "center", u.x = r.x + 20, u.y = r.y + 80, u.outline = 5, v.addChild(u), H = new createjs.Text(BOTTLES_PRICES[H], FONT_SIZE_STORE_BUTTON +
            PRIMARY_FONT, PRIMARY_FONT_COLOUR), H.textAlign = "center", H.x = r.x + 20, H.y = r.y + 80, v.addChild(H)); this._initListener()
    }; this.unload = function () { v.off("mousedown", t); v.off("pressup", z); v.removeChild(r) }; this._initListener = function () { t = v.on("mousedown", this.buttonDown); z = v.on("pressup", this.buttonRelease) }; this.viewBut = function (u) { v.addChild(u) }; this.addEventListener = function (u, p, H) { h[u] = p; k[u] = H }; this.addEventListenerWithParams = function (u, p, H, I) { h[u] = p; k[u] = H; n = I }; this.ifClickable = function () {
        return !0 === v.mouseEnabled ?
            1 : 0
    }; this.setActive = function (u, p) { g = p; l[u].gotoAndStop("state_" + g); l[u].mouseEnabled = !0 }; this.buttonRelease = function () { g ? (playSound("click", 1, 0), h[ON_MOUSE_UP] && h[ON_MOUSE_UP].call(k[ON_MOUSE_UP], n)) : s_oStore.checkBottlePrice(b) }; this.buttonDown = function () { g && (r.scaleX = r.scaleY = .9, q.scaleX = q.scaleY = .4); h[ON_MOUSE_DOWN] && h[ON_MOUSE_DOWN].call(k[ON_MOUSE_DOWN], n) }; this.setPosition = function (u, p) { v.x = u; v.y = p }; this.setVisible = function (u) { v.visible = u }; var x = f; this._init(a, d, b, c, e, f)
}
function CGame(a) {
    var d, b, c, e, f, g, h, k, l, n, q, r, v, t, z, x, u, p, H, I, B, w, F, y, J, U, Z, D, G, L, K, P, S, W, m; this._init = function () {
        w = new createjs.Container; s_oStage.addChild(w); var E = s_oSpriteLibrary.getSprite("bg_game" + Math.floor(2 * Math.random())); p = createBitmap(E); w.addChild(p); B = new createjs.Container; s_oStage.addChild(B); this._resetVariables(); this._initNewGame(); this._initHitArea(); F = new createjs.Container; B.addChild(F); U = new CInterface(F); U.initInterfaceTexts(); this.initNewBestScoreText(); !0 === s_bFirstTimePlaying ?
            new CHelpPanel : this._onExitHelp()
    }; this._initHitArea = function () { D = new createjs.Shape; D.graphics.beginFill("green").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); D.alpha = .01; D.on("mousedown", function () { }); var E = this; D.on("mousedown", function (T) { E.onPressed(T) }); D.on("pressmove", function (T) { E.onPressMove(T) }); D.on("pressup", this.onReleased); B.addChild(D) }; this._initNewGame = function () {
        s_oPhysicsController = new CPhysicsController; I = new CPhysicObjectsCreator(s_oPhysicsController.getWorld()); H = new CPhysicWorld(I,
            B); y = I.addFloor(B); J = I.addBottle(B)
    }; this._initHelpHand = function () { var E = s_oSpriteLibrary.getSprite("help_hand"); m = createBitmap(E); m.regX = .4 * E.width; m.regY = .3 * E.height; m.x = BOTTLE_X_START; m.y = BOTTLE_Y_START; m.alpha = 0; B.addChild(m); this.startHelpHandMovement() }; this.startHelpHandMovement = function () {
        var E = this; createjs.Tween.get(m).to({ alpha: 1 }, 500, createjs.Ease.quadIn).to({ scaleX: .9, scaleY: .9 }, 100, createjs.Ease.quadOut).call(function () {
            createjs.Tween.get(m).wait(200).to({ y: BOTTLE_Y_START - 400 }, 500, createjs.Ease.cubicOut).to({
                scaleX: 1,
                scaleY: 1
            }, 100, createjs.Ease.cubicIn).call(function () { E.fadeOutHelpHand() })
        })
    }; this.fadeOutHelpHand = function () { var E = this; createjs.Tween.get(m).to({ alpha: 0 }, 500, createjs.Ease.quadIn).call(function () { m.y = BOTTLE_Y_START; E.startHelpHandMovement() }) }; this.onFirstLaunch = function () { l = !1; createjs.Tween.get(m).to({ alpha: 0 }, 200, createjs.Ease.quadIn).call(function () { B.removeChild(m); createjs.Tween.removeTweens(m) }) }; this.getPhysicWorld = function () { return H }; this._resetVariables = function () {
        G = L = W = S = Z = null; g = f =
            k = h = n = !1; l = !0; v = r = q = !1; x = u = b = d = e = c = 0; z = s_iTotalScore; t = s_iTotalCredits; setVolume("soundtrack", .5)
    }; this.initNewBestScoreText = function () { K = this.showMessage(TEXT_NEWBESTSCORE, SECONDARY_FONT_COLOUR); K.outline = 5; P = this.showMessage(TEXT_NEWBESTSCORE, PRIMARY_FONT_COLOUR); K.y = P.y = CANVAS_HEIGHT_HALF - 200; K.visible = P.visible = !1 }; this.unload = function () { f = !1; U.unload(); this.destroyPhysicsEngine(); createjs.Tween.removeAllTweens(); s_oStage.removeAllChildren(); s_oGame = null }; this.destroyPhysicsEngine = function () {
        s_oPhysicsController.destroyWorld();
        y.unload(); y = null; J.unload(); s_oPhysicsController = H = I = J = null
    }; this.onExit = function () { setVolume("soundtrack", 1); $("#canvas").trigger("end_session"); $("#canvas").trigger("show_interlevel_ad"); this.unload(); s_oMain.gotoMenu() }; this.restart = function () { setVolume("soundtrack", .5); $("#canvas").trigger("restart_level"); this.unload(); s_oMain.gotoGame() }; this._onExitHelp = function () { f = !0; s_bFirstTimePlaying = !1; n = !0; l && this._initHelpHand() }; this.updateScore = function () {
        s_iTotalScore = z += x; saveItem("flipthebottle_total_score",
            s_iTotalScore); this.saveCredits(); x > s_iBestScore && (s_iBestScore = x, saveItem("flipthebottle_best_score", s_iBestScore))
    }; this.saveCredits = function () { s_iTotalCredits = t; saveItem("flipthebottle_total_credits", s_iTotalCredits) }; this.addScore = function () { this.initScoreText(LAUNCH_POINTS); t += LAUNCH_CREDITS; x += LAUNCH_POINTS; U.refreshScoreText(x); this.saveCredits(); x > s_iBestScore && (this.showNewBestScore(), s_iBestScore = x, saveItem("flipthebottle_best_score", s_iBestScore), U.refreshBestScoreText(), g = !0) }; this.showNewBestScore =
        function () {
            !0 !== g && !0 !== s_bFirstTimePlaying && (!1 === soundPlaying("newbestscore") && playSound("newbestscore", 1, !1), P.alpha = K.alpha = 0, P.visible = K.visible = !0, createjs.Tween.get(K).to({ alpha: 1 }, 500, createjs.Ease.quadIn).call(function () {
                (new createjs.Tween.get(K, { loop: !0 })).to({ scaleX: 1.3, scaleY: 1.3 }, TEXT_MESSAGES_SPEED, createjs.Ease.quadOut).to({ scaleX: 1, scaleY: 1 }, TEXT_MESSAGES_SPEED, createjs.Ease.quadIn); (new createjs.Tween.get(K)).wait(2E3).to({ alpha: 0 }, TEXT_MESSAGES_SPEED, createjs.Ease.quadOut).call(function () {
                    K.visible =
                    !1; createjs.Tween.removeTweens(K)
                })
            }), createjs.Tween.get(P).to({ alpha: 1 }, 500, createjs.Ease.quadIn).call(function () { (new createjs.Tween.get(P, { loop: !0 })).to({ scaleX: 1.3, scaleY: 1.3 }, TEXT_MESSAGES_SPEED, createjs.Ease.quadOut).to({ scaleX: 1, scaleY: 1 }, TEXT_MESSAGES_SPEED, createjs.Ease.quadIn); (new createjs.Tween.get(P)).wait(2E3).to({ alpha: 0 }, TEXT_MESSAGES_SPEED, createjs.Ease.quadOut).call(function () { P.visible = !1; createjs.Tween.removeTweens(P) }) }))
        }; this.initScoreText = function (E) {
            var T = this.showMessage("+" +
                E, SECONDARY_FONT_COLOUR); T.outline = 5; var R = this.showMessage("+" + E, PRIMARY_FONT_COLOUR); createjs.Tween.get(R).to({ y: R.y - 400, alpha: 0 }, TEXT_MESSAGES_SPEED, createjs.Ease.sineOut).call(function () { n = !0; createjs.Tween.removeTweens(R); F.removeChild(R) }); createjs.Tween.get(T).to({ y: T.y - 400, alpha: 0 }, TEXT_MESSAGES_SPEED, createjs.Ease.sineOut).call(function () { n = !0; createjs.Tween.removeTweens(T); F.removeChild(T) })
        }; this.isCheckLaunch = function () { return h }; this.tryAgain = function () {
            this.resetBottle(); J.fadeoutAndResetSprite();
            playSound("tryagain", 1, !1); W = this.showMessage(TEXT_TRY_AGAIN, SECONDARY_FONT_COLOUR); W.outline = 5; S = this.showMessage(TEXT_TRY_AGAIN, PRIMARY_FONT_COLOUR); createjs.Tween.get(S).to({ y: S.y - 400, alpha: 0 }, TEXT_MESSAGES_SPEED, createjs.Ease.sineOut).call(function () { n = !0; createjs.Tween.removeTweens(S); F.removeChild(S); S = null }); createjs.Tween.get(W).to({ y: W.y - 400, alpha: 0 }, TEXT_MESSAGES_SPEED, createjs.Ease.sineOut).call(function () { n = !0; createjs.Tween.removeTweens(W); F.removeChild(W); W = null })
        }; this.atShortLaunch =
            function (E) { playSound("wronglaunch", 1, !1); v = r = !1; n = !0; L || (G = this.showMessage(E, SECONDARY_FONT_COLOUR), G.outline = 5, L = this.showMessage(E, PRIMARY_FONT_COLOUR), createjs.Tween.get(G).to({ y: G.y - 400, alpha: 0 }, TEXT_MESSAGES_SPEED, createjs.Ease.sineOut).call(function () { createjs.Tween.removeTweens(G); F.removeChild(G); G = null }), createjs.Tween.get(L).to({ y: L.y - 400, alpha: 0 }, TEXT_MESSAGES_SPEED, createjs.Ease.sineOut).call(function () { createjs.Tween.removeTweens(L); F.removeChild(L); L = null })) }; this.showMessage = function (E,
                T) { return (new CTLText(F, CANVAS_WIDTH_HALF - 275, CANVAS_HEIGHT_HALF - 35, 550, 70, 60, "center", T, PRIMARY_FONT, 1, 2, 2, E, !0, !0, !0, !1)).getText() }; this.onCorrectLaunch = function () { playSound("bonus", 1, !1); this.addCoin(); this.addScore(); this.resetBottle(); J.resetBottle() }; this.addCoin = function () {
                    var E = J.getSpritePosition(), T = s_oSpriteLibrary.getSprite("coin"), R = createBitmap(T); R.regX = .5 * T.width; R.regY = .5 * T.height; R.x = E.x; R.y = E.y; R.alpha = 0; B.addChild(R); E = U.getCreditsIconPos(); createjs.Tween.get(R).to({ alpha: 1 },
                        200, createjs.Ease.quadIn); createjs.Tween.get(R).to({ y: E.y }, 800, createjs.Ease.quadIn); createjs.Tween.get(R).to({ x: E.x }, 1E3, createjs.Ease.quintOut).call(function () { U.pulseCreditsIcon(); U.refreshCreditsText(t); B.removeChild(R); createjs.Tween.removeTweens(R) })
                }; this.gameOver = function () {
                    f = !1; this.updateScore(); null === Z && ($("#canvas").trigger("share_event", s_iTotalScore), $("#canvas").trigger("save_score", s_iTotalScore), playSound("game_over", 1, !1), stopSound("soundtrack"), setTimeout(function () {
                        playSound("soundtrack",
                            .5, !1)
                    }, 3E3), Z = new CEndPanel(x))
                }; this.setStartGame = function (E) { f = E }; this.setLaunchReady = function (E) { n = E }; this.onPressed = function (E) { n && !r && J.isReady() && (r = !0, c = E.stageX, e = E.stageY, q = !0) }; this.onPressMove = function (E) { n && (d = E.stageX, b = E.stageY) }; this.onReleased = function () { n && !v && J.isReady() && (u > SWIPE_TIMER_MAX ? (s_oGame.atShortLaunch(TEXT_SLOW_LAUNCH), u = 0, q = !1) : (u = 0, q = !1, e < b ? s_oGame.atShortLaunch(TEXT_WRONG_LAUNCH) : (v = !0, n = !1, s_oGame.checkDistanceForLaunch()))) }; this.checkDistanceForLaunch = function () {
                    var E =
                        distanceBetweenTwoPoints(c, e, d, b); E > SWIPE_DISTANCE_MINIMUM ? (E = E <= SWIPE_DISTANCE_LIMIT_MIN ? LAUNCH_DISTANCE_MIN - Math.random() * LAUNCH_WRONG_RANDOMIZER : E > SWIPE_DISTANCE_LIMIT_MIN && E < SWIPE_DISTANCE_LIMIT_MAX ? LAUNCH_DISTANCE_CORRECT + Math.random() * (LAUNCH_CORRECT_MAX_RANDOM - LAUNCH_CORRECT_MIN_RANDOM) + LAUNCH_CORRECT_MIN_RANDOM : LAUNCH_DISTANCE_MAX + Math.random() * LAUNCH_WRONG_RANDOMIZER, playSound("swish", 1, !1), J.addImpulse(E)) : this.atShortLaunch(TEXT_SHORT_LAUNCH)
                }; this.startLaunch = function () { k = !0; if (l) this.onFirstLaunch() };
    this.isLaunched = function () { return k }; this.isBottleStading = function () { return 361 > J.getAngle() && 359 < J.getAngle() || 721 > J.getAngle() && 719 < J.getAngle() ? !0 : !1 }; this.checkLaunch = function () { h = !0; if (!1 === this.isBottleStading()) 0 < x ? this.gameOver() : this.tryAgain(); else this.onCorrectLaunch() }; this.resetBottle = function () { v = r = k = h = !1; b = d = e = c = 0 }; this.updatePhysics = function () { J.update(); s_oPhysicsController.update() }; this.playCollisionSound = function () {
        switch (s_iBottleType) {
            case 1: !1 === soundPlaying("collision_glass") &&
                playSound("collision_glass", 1, !1); !1 === soundPlaying("liquid") && playSound("liquid", 1, !1); break; case 0: case 3: case 4: case 5: case 6: !1 === soundPlaying("collision_plastic") && playSound("collision_plastic", 1, !1); !1 === soundPlaying("liquid") && playSound("liquid", 1, !1); break; case 2: case 7: case 8: case 10: !1 === soundPlaying("collision_plastic") && playSound("collision_plastic", 1, !1); break; case 9: case 11: !1 === soundPlaying("collision_metal") && playSound("collision_metal", 1, !1)
        }
    }; this.update = function () {
        if (f) {
            q && (u +=
                s_iTimeElaps); for (var E = 0; E < UPDATE_LOOP_VAR; E++)this.updatePhysics()
        }
    }; s_oGame = this; this._init()
} var s_oGame = null;
function CPhysicsController() {
    var a = Box2D.Common.Math.b2Vec2, d = Box2D.Dynamics.b2World, b = Box2D.Dynamics.b2DebugDraw, c, e = this; this.init = function () { var f = new a(0, GRAVITY); c = new d(f, !0); DEBUG_BOX2D && this._initDebugCanvas(); this.createAContactListener() }; this._initDebugCanvas = function () {
        var f = document.createElement("canvas"); f.id = "debug"; f.width = s_oCanvas.width; f.height = s_oCanvas.height; f.style.position = "fixed"; document.body.appendChild(f); $("#debug").css("pointer-events", "none"); f = document.getElementById("debug").getContext("2d");
        var g = new b; g.SetSprite(f); g.SetDrawScale(WORLD_SCALE); g.SetFillAlpha(DEBUG_BOX2D_ALPHA); g.SetLineThickness(1); g.SetFlags(b.e_shapeBit); c.SetDebugDraw(g); sizeHandler()
    }; this.removeDebugCanvas = function () { var f = document.getElementById("debug"); f.parentNode.removeChild(f) }; this.createAContactListener = function () {
        var f = new Box2D.Dynamics.b2ContactListener; f.BeginContact = function (g) {
            var h = g.GetFixtureA().GetUserData(), k = g.GetFixtureB().GetUserData(); s_oGame.playCollisionSound(); e.processContactEvent(CONTACT_BEGIN,
                h, g); e.processContactEvent(CONTACT_BEGIN, k, g)
        }; f.EndContact = function (g) { var h = g.GetFixtureA().GetUserData(), k = g.GetFixtureB().GetUserData(); e.processContactEvent(CONTACT_END, h, g); e.processContactEvent(CONTACT_END, k, g) }; f.PreSolve = function (g, h) { }; c.SetContactListener(f)
    }; this.processContactEvent = function (f, g, h) { g && g.contacttype === f && g.callback(g.params, h) }; this.destroyBody = function (f) { c.DestroyBody(f.GetBody()) }; this.destroyBodyVector = function (f) { c.DestroyBody(f) }; this.destroyAllBodies = function () {
        for (var f =
            c.GetBodyList(); f;) { var g = f; f = f.GetNext(); c.DestroyBody(g) } c.deleteUnusedObjects
    }; this.destroyAllJoints = function () { for (var f = c.GetJointList(); f;) { var g = f.GetNext(); c.DestroyJoint(g) } }; this.destroyJoint = function (f) { c.DestroyJoint(f) }; this.destroyAllContacts = function () { for (var f = c.GetContactList(); f;) { var g = f.GetNext(); c.DestroyJoint(g) } }; this.destroyWorld = function () { this.destroyAllJoints(); this.destroyAllBodies(); this.destroyAllContacts(); DEBUG_BOX2D && this.removeDebugCanvas(); c = null }; this.getWorld =
        function () { return c }; this.setBodyPosition = function (f, g, h) { f.SetPosition({ x: g / WORLD_SCALE, y: h / WORLD_SCALE }) }; this.setElementPosition = function (f, g) { var h = { x: g.x / WORLD_SCALE, y: g.y / WORLD_SCALE }; f.GetBody().SetPosition(h) }; this.getElementPosition = function (f) { var g = f.GetBody().GetPosition(); return { x: g.x * WORLD_SCALE, y: g.y * WORLD_SCALE, angle: 180 * f.GetBody().GetAngle() / Math.PI } }; this.getElementAngle = function (f) { return 180 * f.GetBody().GetAngle() / Math.PI }; this.update = function () {
            c.Step(TIMESTEP, VELOCITY_ITERATIONS,
                POSITION_ITERATIONS); DEBUG_BOX2D && c.DrawDebugData(); c.ClearForces()
        }; this.init()
}
function CPhysicObjectsCreator(a) {
    var d = Box2D.Common.Math.b2Vec2, b = Box2D.Dynamics.b2BodyDef, c = Box2D.Dynamics.b2Body, e = Box2D.Dynamics.b2FixtureDef, f = Box2D.Collision.Shapes.b2PolygonShape, g; this.init = function () { g = a }; this.addBottle = function (h) {
        for (var k = [], l = BOTTLE_SETTINGS.polygons, n = 0; n < l.length; n++)for (var q = 0; q < l[n].length; q++)k[q] = { x: l[n][q].x, y: l[n][q].y }; s_oGame.getPhysicWorld().centerToScreen(k); k = this.addPolygon(k.reverse(), BOTTLE_X_START, BOTTLE_Y_START, 0, BOTTLE_DENSITY, BOTTLE_FRICTION, BOTTLE_RESTITUTION,
            DYNAMIC_BODY); return new CBottle(k.GetBody(), h)
    }; this.addFloor = function (h) { var k = this.addRectangle(800, 12, FLOOR_X_START, FLOOR_Y_START, 0, FLOOR_DENSITY, FLOOR_FRICTION, FLOOR_RESTITUTION, STATIC_BODY); return new CFloor(k, h) }; this.addPolygon = function (h, k, l, n, q, r, v, t) {
        var z = new b; z.type = c.b2_dynamicBody; t === STATIC_BODY && (z.type = c.b2_staticBody); z.allowSleep = !0; z.bullet = !0; t = new e; t.density = q; t.friction = r; t.restitution = v; t.shape = new f; t.userData = { id: "polygon" }; q = []; for (r = 0; r < h.length; r++)v = new d, v.Set(h[r].x /
            WORLD_SCALE, h[r].y / WORLD_SCALE), q.push(v); t.shape.SetAsArray(q, q.length); z.position.Set(k / WORLD_SCALE, l / WORLD_SCALE); z.angle = n * Math.PI / 180; return g.CreateBody(z).CreateFixture(t)
    }; this.addRectangle = function (h, k, l, n, q, r, v, t, z) {
        var x = new b; switch (z) { case DYNAMIC_BODY: x.type = c.b2_dynamicBody; break; case STATIC_BODY: x.type = c.b2_staticBody; break; case KINEMATIC_BODY: x.type = c.b2_kinematicBody }z = new e; z.density = r; z.friction = v; z.restitution = t; z.shape = new f; z.shape.SetAsBox(h / WORLD_SCALE, k / WORLD_SCALE); z.userData =
            { id: "rectangle" }; x.position.Set(l / WORLD_SCALE, n / WORLD_SCALE); x.angle = q * Math.PI / 180; h = g.CreateBody(x); h.CreateFixture(z); return h
    }; this.init()
}
function CPhysicWorld(a, d) { var b, c, e; this._init = function () { var g = s_oSpriteLibrary.getSprite("bg"); b = createBitmap(g); b.x = 0; b.y = 0; b.alpha = 1E-4; f.addChild(b); c = g.width; e = g.height }; this.centerToScreen = function (g) { for (var h = c, k = b.x - c / 2, l = b.y - e / 2, n = 0; n < g.length; n++)g[n].x = g[n].x * h + k, g[n].y = e - g[n].y * h + l }; this.unload = function () { f.removeChild(b); b = null }; var f = d; this._init() }
function CToggle(a, d, b, c, e) {
    var f, g, h, k, l, n, q; this._init = function (r, v, t, z, x) { l = void 0 !== x ? x : s_oStage; g = []; h = []; x = new createjs.SpriteSheet({ images: [t], frames: { width: t.width / 2, height: t.height, regX: t.width / 2 / 2, regY: t.height / 2 }, animations: { state_true: [0], state_false: [1] } }); f = z; k = createSprite(x, "state_" + f, t.width / 2 / 2, t.height / 2, t.width / 2, t.height); k.x = r; k.y = v; k.stop(); s_bMobile || (k.cursor = "pointer"); l.addChild(k); this._initListener() }; this.unload = function () { k.off("mousedown", n); k.off("pressup", q); l.removeChild(k) };
    this._initListener = function () { n = k.on("mousedown", this.buttonDown); q = k.on("pressup", this.buttonRelease) }; this.addEventListener = function (r, v, t) { g[r] = v; h[r] = t }; this.setCursorType = function (r) { k.cursor = r }; this.setActive = function (r) { f = r; k.gotoAndStop("state_" + f) }; this.buttonRelease = function () { k.scaleX = 1; k.scaleY = 1; playSound("click", 1, !1); f = !f; k.gotoAndStop("state_" + f); g[ON_MOUSE_UP] && g[ON_MOUSE_UP].call(h[ON_MOUSE_UP], f) }; this.buttonDown = function () { k.scaleX = .9; k.scaleY = .9; g[ON_MOUSE_DOWN] && g[ON_MOUSE_DOWN].call(h[ON_MOUSE_DOWN]) };
    this.setPosition = function (r, v) { k.x = r; k.y = v }; this._init(a, d, b, c, e)
}
function CGfxButton(a, d, b, c) {
    var e, f, g, h, k, l, n, q; this._init = function (t, z, x) { e = !1; f = []; g = []; k = []; h = createBitmap(x); h.x = t; h.y = z; l = 1; h.regX = x.width / 2; h.regY = x.height / 2; s_bMobile || (h.cursor = "pointer"); r.addChild(h); this._initListener() }; this.getSprite = function () { return h }; this.unload = function () { h.off("mousedown", n); h.off("pressup", q); r.removeChild(h) }; this.setVisible = function (t) { h.visible = t }; this.setCursorType = function (t) { h.cursor = t }; this._initListener = function () {
        n = h.on("mousedown", this.buttonDown); q =
            h.on("pressup", this.buttonRelease)
    }; this.addEventListener = function (t, z, x) { f[t] = z; g[t] = x }; this.addEventListenerWithParams = function (t, z, x, u) { f[t] = z; g[t] = x; k[t] = u }; this.enable = function () { e = !1 }; this.disable = function () { e = !0 }; this.buttonRelease = function () { e || (h.scaleX = 0 < l ? 1 : -1, h.scaleY = 1, playSound("click", 1, !1), f[ON_MOUSE_UP] && f[ON_MOUSE_UP].call(g[ON_MOUSE_UP], k[ON_MOUSE_UP])) }; this.buttonDown = function () { e || (h.scaleX = 0 < l ? .9 : -.9, h.scaleY = .9, f[ON_MOUSE_DOWN] && f[ON_MOUSE_DOWN].call(g[ON_MOUSE_DOWN], k[ON_MOUSE_DOWN])) };
    this.rotation = function (t) { h.rotation = t }; this.getButton = function () { return h }; this.setPosition = function (t, z) { h.x = t; h.y = z }; this.setX = function (t) { h.x = t }; this.setY = function (t) { h.y = t }; this.getButtonImage = function () { return h }; this.setScaleX = function (t) { l = h.scaleX = t }; this.getX = function () { return h.x }; this.getY = function () { return h.y }; this.trebleAnimation = function () { createjs.Tween.get(h).to({ rotation: 5 }, 75, createjs.Ease.quadOut).to({ rotation: -5 }, 140, createjs.Ease.quadIn).to({ rotation: 0 }, 75, createjs.Ease.quadIn).wait(750).call(function () { v.trebleAnimation() }) };
    this.removeAllTweens = function () { createjs.Tween.removeTweens(h) }; var r = void 0 !== c ? c : s_oStage; this._init(a, d, b); var v = this; return this
}
function CTextButton(a, d, b, c, e, f, g, h) {
    var k, l, n, q, r; this._init = function (t, z, x, u, p, H, I) { k = []; l = []; n = []; var B = createBitmap(x); r = new createjs.Text(u, I + "px " + p, H); r.textAlign = "center"; r.textBaseline = "middle"; r.getBounds(); r.x = x.width / 2; r.y = Math.floor(x.height / 2); q = new createjs.Container; q.x = t; q.y = z; q.regX = x.width / 2; q.regY = x.height / 2; q.addChild(B, r); v.addChild(q); s_bMobile || (q.cursor = "pointer"); this._initListener() }; this.unload = function () { q.off("mousedown"); q.off("pressup"); v.removeChild(q) }; this.setVisible =
        function (t) { q.visible = t }; this._initListener = function () { q.on("mousedown", this.buttonDown); q.on("pressup", this.buttonRelease) }; this.addEventListener = function (t, z, x) { l[t] = z; n[t] = x }; this.buttonRelease = function () { q.scaleX = 1; q.scaleY = 1; playSound("click", 1, !1); l[ON_MOUSE_UP] && l[ON_MOUSE_UP].call(n[ON_MOUSE_UP], k[ON_MOUSE_UP]) }; this.buttonDown = function () { q.scaleX = .9; q.scaleY = .9; l[ON_MOUSE_DOWN] && l[ON_MOUSE_DOWN].call(n[ON_MOUSE_DOWN], k[ON_MOUSE_DOWN]) }; this.addEventListenerWithParams = function (t, z, x, u) {
            l[t] =
            z; n[t] = x; k[t] = u
        }; this.setTextPosition = function (t) { r.y = t }; this.setPosition = function (t, z) { q.x = t; q.y = z }; this.setX = function (t) { q.x = t }; this.setY = function (t) { q.y = t }; this.getButtonImage = function () { return q }; this.getX = function () { return q.x }; this.getY = function () { return q.y }; var v = h; this._init(a, d, b, c, e, f, g); return this
}
function CInterface(a) {
    var d, b, c, e, f, g, h, k, l, n, q = null, r = null, v, t, z, x, u, p, H, I, B; this._init = function () {
        B = a; h = new createjs.Container; B.addChild(h); var w = s_oSpriteLibrary.getSprite("but_exit"); d = CANVAS_WIDTH - w.width / 2 - 20; b = w.height / 2 + 10; v = new CGfxButton(d, b, w, h); v.addEventListener(ON_MOUSE_UP, this._onExit, this); if (!1 === DISABLE_SOUND_MOBILE || !1 === s_bMobile) {
            var F = s_oSpriteLibrary.getSprite("audio_icon"); f = d - w.width / 2 - F.width / 4 - 10; g = b; k = new CToggle(f, g, F, s_bAudioActive, h); k.addEventListener(ON_MOUSE_UP,
                this._onAudioToggle, this); c = f - w.width / 2 - F.width / 4 - 10; e = F.height / 2 + 10
        } else c = d - w.width - 10, e = b; w = window.document; F = w.documentElement; q = F.requestFullscreen || F.mozRequestFullScreen || F.webkitRequestFullScreen || F.msRequestFullscreen; r = w.exitFullscreen || w.mozCancelFullScreen || w.webkitExitFullscreen || w.msExitFullscreen; !1 === ENABLE_FULLSCREEN && (q = !1); q && screenfull.isEnabled && (F = s_oSpriteLibrary.getSprite("but_fullscreen"), n = new CToggle(c, e, F, s_bFullscreen, h), n.addEventListener(ON_MOUSE_UP, this._onFullscreenRelease,
            this)); this.refreshButtonPos(s_iOffsetX, s_iOffsetY)
    }; this.getCreditsIconPos = function () { return { x: p.x, y: p.y } }; this.pulseCreditsIcon = function () { createjs.Tween.get(p).to({ scaleX: 1.2, scaleY: 1.2 }, 300, createjs.Ease.quadOut).to({ scaleX: 1, scaleY: 1 }, 300, createjs.Ease.quadIn).call(function () { createjs.Tween.removeTweens(p) }) }; this.initInterfaceTexts = function () {
        var w = s_oSpriteLibrary.getSprite("coin"); p = createBitmap(w); p.regX = .5 * w.width; p.regY = .5 * w.height; p.x = 75; p.y = v.getY() - 10; h.addChild(p); w = p.x + 40; var F = v.getY() -
            5, y = 200, J = 70; H = new CTLText(h, w - y / 2, F - J / 2, y, J, 36, "left", SECONDARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, String(s_iTotalCredits), !0, !0, !0, !1); H.setOutline(5); I = new CTLText(h, w - y / 2, F - J / 2, y, J, 36, "left", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, String(s_iTotalCredits), !0, !0, !0, !1); l = CANVAS_HEIGHT - 250; w = 60; F = l; y = 300; J = 70; u = new CTLText(h, w - y / 2, F - J / 2, y, J, 36, "left", SECONDARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_SCORE_GAME + 0, !0, !0, !0, !1); u.setOutline(5); x = new CTLText(h, w - y / 2, F - J / 2, y, J, 36, "left", PRIMARY_FONT_COLOUR, PRIMARY_FONT,
                1, 2, 2, TEXT_SCORE_GAME + 0, !0, !0, !0, !1); w = CANVAS_WIDTH - 60; F = l; y = 300; J = 70; z = new CTLText(h, w - y / 2, F - J / 2, y, J, 36, "right", SECONDARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_BEST_GAME + s_iBestScore, !0, !0, !0, !1); z.setOutline(5); t = new CTLText(h, w - y / 2, F - J / 2, y, J, 36, "right", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_BEST_GAME + s_iBestScore, !0, !0, !0, !1); this.refreshButtonPos(s_iOffsetX, s_iOffsetY)
    }; this.refreshButtonPos = function (w, F) {
        !1 !== DISABLE_SOUND_MOBILE && !1 !== s_bMobile || k.setPosition(f - w, g + F); q && screenfull.isEnabled &&
            n.setPosition(c - w, e + F); v.setPosition(d - w, b + F); l = CANVAS_HEIGHT - F - 50; void 0 !== I && (p.x = 75 + w, p.y = v.getY() - 10, H.setX(p.x + 40), H.setY(v.getY() - 5), I.setX(H.getX()), I.setY(H.getY())); void 0 !== x && (u.setX(60 + w), u.setY(l), x.setX(u.getX()), x.setY(u.getY())); void 0 !== t && (z.setX(CANVAS_WIDTH - 60 - w), z.setY(l), t.setX(z.getX()), t.setY(z.getY()))
    }; this.refreshScoreText = function (w) { w = TEXT_SCORE_GAME + w; u.refreshText(w); x.refreshText(w); u.setY(l); x.setY(u.getY()) }; this.refreshCreditsText = function (w) {
        H.refreshText(w); I.refreshText(w);
        H.setY(v.getY() - 5); I.setY(v.getY() - 5)
    }; this.refreshBestScoreText = function () { var w = TEXT_BEST_GAME + s_iBestScore; t.refreshText(w); z.refreshText(w); z.setY(l); t.setY(z.getY()) }; this.unload = function () { if (!1 === DISABLE_SOUND_MOBILE || !1 === s_bMobile) k.unload(), k = null; q && screenfull.isEnabled && n.unload(); v.unload(); s_oInterface = null; s_oGame._bDisableEvents = !1; s_oGame.setStartGame(!0) }; this._onExit = function () { new CAreYouSurePanel(h); s_oGame._bDisableEvents = !0; s_oGame.setStartGame(!1) }; this._onAudioToggle = function () {
        Howler.mute(s_bAudioActive);
        s_bAudioActive = !s_bAudioActive
    }; this._onFullscreenRelease = function () { s_bFullscreen ? r.call(window.document) : q.call(window.document.documentElement); sizeHandler() }; this.resetFullscreenBut = function () { q && screenfull.isEnabled && n.setActive(s_bFullscreen) }; s_oInterface = this; this._init(); return this
} var s_oInterface = null;
function CFloor(a, d) { this._init = function () { var c = s_oSpriteLibrary.getSprite("floor"), e = createBitmap(c); e.regX = .5 * c.width; e.regY = .5 * c.height; e.x = CANVAS_WIDTH_HALF; e.y = FLOOR_Y_START - 15; d.addChild(e) }; this.setActive = function (c) { }; this.unload = function () { b.SetActive(!1) }; this.getBody = function () { return b }; this.update = function () { }; var b = a; this._init() }
function CBottle(a, d) {
    var b = Box2D.Common.Math.b2Vec2, c, e, f, g; this._init = function () { f = !1; this.resetVariables(); var l = s_oSpriteLibrary.getSprite("bottle" + s_iBottleType); c = createBitmap(l); c.regX = .5 * l.width; c.regY = .5 * l.height; c.x = BOTTLE_X_START; c.y = BOTTLE_Y_START; d.addChild(c) }; this.resetVariables = function () { g = !1; e = !0 }; this.isReady = function () { return e }; this.addImpulse = function (l) { f || (e = !1, f = !0, l = new b(0, l * LAUNCH_DISTANCE_VAR), k.ApplyImpulse(l, k.GetWorldCenter(), !0), g = !0, s_oGame.startLaunch()) }; this.getAngle =
        function () { return k.GetAngle() / Math.PI * 180 }; this.unload = function () { k.SetActive(!1); createjs.Tween.removeTweens(c); h.removeChild(c) }; this.getSpritePosition = function () { return { x: c.x, y: c.y } }; this.fadeoutAndResetSprite = function () { var l = this; createjs.Tween.get(c).to({ alpha: 0 }, 500, createjs.Ease.cubicOut).call(function () { l.resetPosition() }) }; this.fadeinSprite = function () { var l = this; createjs.Tween.get(c).to({ alpha: 1 }, 500, createjs.Ease.cubicOut).call(function () { l.resetBottle() }) }; this.resetBottle = function () {
            k.SetActive(!0);
            k.SetAwake(!0); g = !1; e = !0; (WORLD_SCALE * k.GetPosition().x > CANVAS_WIDTH - 100 || 100 > WORLD_SCALE * k.GetPosition().x) && s_oPhysicsController.setBodyPosition(k, BOTTLE_X_START, BOTTLE_Y_START); k.SetAngle(0); createjs.Tween.removeTweens(c)
        }; this._moveSpritePosOnPhysicPos = function () { c.x = WORLD_SCALE * k.GetPosition().x; c.y = WORLD_SCALE * k.GetPosition().y; c.rotation = this.getAngle() }; this.stopBottle = function () { var l = new b(0, 0); k.ApplyImpulse(l, k.GetWorldCenter(), !0) }; this.resetPosition = function () {
            s_oPhysicsController.setBodyPosition(k,
                BOTTLE_X_START, BOTTLE_Y_START); k.SetAngle(0); this.fadeinSprite()
        }; this.update = function () { this._moveSpritePosOnPhysicPos(); g && k.IsAwake() && k.GetAngularVelocity() < BOTTLE_ROTATION && k.ApplyTorque(BOTTLE_ROTATION); !f || s_oGame.isCheckLaunch() || k.IsAwake() || (f = !1, s_oGame.checkLaunch(), g = !1, this.stopBottle()) }; var h = d; var k = a; this._init()
}
function CCreditsPanel() {
    var a, d, b, c, e, f, g, h, k; this._init = function () {
        var l = s_oSpriteLibrary.getSprite("msg_box"); c = new createjs.Shape; c.graphics.beginFill("black").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); c.alpha = 0; s_oStage.addChild(c); f = new createjs.Container; s_oStage.addChild(f); createjs.Tween.get(c).to({ alpha: .7 }, 500); k = CANVAS_HEIGHT + l.height / 2; g = new createjs.Container; g.y = k; f.addChild(g); a = createBitmap(l); a.regX = l.width / 2; a.regY = l.height / 2; a.x = CANVAS_WIDTH_HALF; a.y = CANVAS_HEIGHT_HALF; g.addChild(a);
        e = new createjs.Shape; e.graphics.beginFill("#0f0f0f").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); e.alpha = .01; h = e.on("click", this._onLogoButRelease); g.addChild(e); s_bMobile || (e.cursor = "pointer"); l = s_oSpriteLibrary.getSprite("but_exit"); b = new CGfxButton(715, 572, l, g); b.addEventListener(ON_MOUSE_UP, this.unload, this); l = CANVAS_WIDTH_HALF; var n = CANVAS_HEIGHT_HALF - 90, q = 450, r = 100; new CTLText(g, l - q / 2, n - r / 2, q, r, 36, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_CREDITS_DEVELOPED, !0, !0, !0, !1); l = s_oSpriteLibrary.getSprite("logo_ctl");
        d = createBitmap(l); d.regX = l.width / 2; d.regY = l.height / 2; d.x = CANVAS_WIDTH_HALF; d.y = CANVAS_HEIGHT_HALF; g.addChild(d); l = CANVAS_WIDTH_HALF; n = CANVAS_HEIGHT_HALF + 90; q = 450; r = 100; new CTLText(g, l - q / 2, n - r / 2, q, r, 36, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, "www.taptapgames.fun", !0, !0, !0, !1); createjs.Tween.get(g).to({ y: 0 }, 1E3, createjs.Ease.backOut)
    }; this.unload = function () {
        createjs.Tween.get(c).to({ alpha: 0 }, 500); e.off("click", h); createjs.Tween.get(f).to({ y: k }, 400, createjs.Ease.backIn).call(function () {
            b.unload();
            b = null; s_oStage.removeChild(f); s_oMenu.exitFromCredits()
        })
    }; this._onLogoButRelease = function () { window.open("https://www.taptapgames.fun/", "_blank") }; this._init()
}
function CAreYouSurePanel() {
    var a, d, b, c, e, f, g; this._init = function () {
        d = new createjs.Container; s_oStage.addChild(d); g = new createjs.Container; s_oStage.addChild(g); e = new createjs.Shape; e.graphics.beginFill("black").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); e.alpha = 0; f = e.on("mousedown", function () { }); d.addChild(e); createjs.Tween.get(e).to({ alpha: .7 }, 500); var k = s_oSpriteLibrary.getSprite("msg_box"), l = createBitmap(k); l.regX = k.width / 2; l.regY = k.height / 2; l.x = CANVAS_WIDTH_HALF; l.y = CANVAS_HEIGHT_HALF; g.addChild(l);
        g.y = CANVAS_HEIGHT + k.height / 2; a = g.y; createjs.Tween.get(g).to({ y: 0 }, 1E3, createjs.Ease.backOut); k = k.width - 100; new CTLText(g, CANVAS_WIDTH_HALF - k / 2, CANVAS_HEIGHT_HALF - 100 - 90, k, 180, 36, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1.1, 2, 2, TEXT_ARE_SURE, !0, !0, !0, !1); b = new CGfxButton(CANVAS_WIDTH_HALF + 195, 790, s_oSpriteLibrary.getSprite("but_yes"), g); b.addEventListener(ON_MOUSE_UP, this._onButYes, this); c = new CGfxButton(CANVAS_WIDTH_HALF - 195, 790, s_oSpriteLibrary.getSprite("but_no"), g); c.addEventListener(ON_MOUSE_UP,
            this._onButNo, this)
    }; this._onButYes = function () { c.disable(); b.disable(); createjs.Tween.get(e).to({ alpha: 0 }, 500); createjs.Tween.get(g).to({ y: a }, 400, createjs.Ease.backIn).call(function () { h.unload(); s_oGame.onExit() }) }; this._onButNo = function () { c.disable(); b.disable(); createjs.Tween.get(e).to({ alpha: 0 }, 500); createjs.Tween.get(g).to({ y: a }, 400, createjs.Ease.backIn).call(function () { h.unload() }) }; this.unload = function () {
        c.unload(); b.unload(); s_oGame.setStartGame(!0); d.removeChild(e); s_oStage.removeChild(g);
        e.off("mousedown", f)
    }; var h = this; this._init()
}
function CHelpPanel() {
    var a, d, b, c, e, f, g, h; this._init = function () {
        h = !1; d = new createjs.Container; s_oStage.addChild(d); c = new createjs.Container; s_oStage.addChild(c); f = new createjs.Shape; f.graphics.beginFill("black").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); f.alpha = 0; g = f.on("mousedown", function () { }); d.addChild(f); createjs.Tween.get(f).to({ alpha: .7 }, 500); var k = s_oSpriteLibrary.getSprite("msg_box"), l = createBitmap(k); l.regX = k.width / 2; l.regY = k.height / 2; l.x = CANVAS_WIDTH_HALF; l.y = CANVAS_HEIGHT_HALF; c.addChild(l);
        c.y = CANVAS_HEIGHT + k.height / 2; a = c.y; createjs.Tween.get(c).to({ y: 0 }, 1E3, createjs.Ease.backOut); this.initText(); var n = this; e = c.on("pressup", function () { n._onExitHelp() }); b = d.on("pressup", function () { n._onExitHelp() }); s_oGame._bDisableEvents = !0; s_bMobile || (c.cursor = "pointer")
    }; this.initText = function () {
        var k = CANVAS_HEIGHT_HALF - 10, l = CANVAS_HEIGHT_HALF + 90, n = CANVAS_WIDTH_HALF; new CTLText(c, n - 250, CANVAS_HEIGHT_HALF - 110 - 50, 500, 100, 32, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1.1, 2, 2, TEXT_HELP1, !0, !0, !0, !1); new CTLText(c,
            n - 250, k - 50, 500, 100, 32, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1.1, 2, 2, TEXT_HELP2, !0, !0, !0, !1); new CTLText(c, n - 250, l - 50, 500, 100, 32, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1.1, 2, 2, TEXT_HELP3, !0, !0, !0, !1)
    }; this.unload = function () { f.off("mousedown", g); c.off("pressup", e); d.off("pressup", b); createjs.Tween.get(f).to({ alpha: 0 }, 500); createjs.Tween.get(c).to({ y: a }, 400, createjs.Ease.backIn).call(function () { s_oStage.removeChild(c); s_oGame._bDisableEvents = !1 }) }; this._onExitHelp = function () {
        !0 !== h && (h = !0, createjs.Tween.removeAllTweens(),
            this.unload(), s_oGame._onExitHelp())
    }; this._init()
}
function CEndPanel(a) {
    var d, b, c, e, f, g, h; this._init = function () {
        h = a; b = new createjs.Container; s_oStage.addChild(b); c = new createjs.Container; s_oStage.addChild(c); e = new createjs.Shape; e.graphics.beginFill("black").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); e.alpha = 0; e.on("mousedown", function () { }); b.addChild(e); createjs.Tween.get(e).to({ alpha: .7 }, 500); var k = s_oSpriteLibrary.getSprite("msg_box_big"), l = createBitmap(k); l.regX = k.width / 2; l.regY = k.height / 2; l.x = CANVAS_WIDTH_HALF; l.y = CANVAS_HEIGHT_HALF; c.addChild(l);
        c.y = CANVAS_HEIGHT + k.height / 2; d = c.y; createjs.Tween.get(c).to({ y: 0 }, 1E3, createjs.Ease.backOut).call(function () { $("#canvas").trigger("show_interlevel_ad") }); k = CANVAS_WIDTH_HALF; l = CANVAS_HEIGHT_HALF - 160; var n = 550, q = 120; new CTLText(c, k - n / 2, l - q / 2, n, q, 40, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_GAMEOVER, !0, !0, !0, !1); k = CANVAS_WIDTH_HALF; l = CANVAS_HEIGHT_HALF - 30; n = 550; q = 38; new CTLText(c, k - n / 2, l - q / 2, n, q, 32, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_SCORE + h, !0, !0, !0, !1); l += 40; n = 550; q = 38;
        new CTLText(c, k - n / 2, l - q / 2, n, q, 32, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_BEST_SCORE + s_iBestScore, !0, !0, !0, !1); n = 550; q = 38; new CTLText(c, k - n / 2, l + 40 - q / 2, n, q, 32, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT, 1, 2, 2, TEXT_CREDITS + s_iTotalCredits, !0, !0, !0, !1); l = 840; f = new CGfxButton(CANVAS_WIDTH_HALF - 200, l, s_oSpriteLibrary.getSprite("but_home"), c); f.addEventListener(ON_MOUSE_UP, this._onExit, this); g = new CGfxButton(CANVAS_WIDTH_HALF + 200, l, s_oSpriteLibrary.getSprite("but_restart"), c); g.addEventListener(ON_MOUSE_UP,
            this._onRestart, this); new CInterface(b)
    }; this.unload = function () { createjs.Tween.get(e).to({ alpha: 0 }, 500); createjs.Tween.get(c).to({ y: d }, 400, createjs.Ease.backIn).call(function () { f.unload(); g.unload(); s_oStage.removeChild(b); s_oEndPanel = null }) }; this._onExit = function () { this.unload(); s_oGame.onExit() }; this._onRestart = function () { this.unload(); s_oGame.restart() }; s_oEndPanel = this; this._init()
} var s_oEndPanel = null;
function CMsgBox(a, d) {
    var b, c, e; this._init = function (g) {
        c = new createjs.Container; f.addChild(c); e = new createjs.Shape; e.graphics.beginFill("black").drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT); e.alpha = .5; e.on("click", function () { }); c.addChild(e); g = s_oSpriteLibrary.getSprite("msg_box_big"); var h = createBitmap(g); h.x = .5 * CANVAS_WIDTH; h.y = .5 * CANVAS_HEIGHT; h.regX = .5 * g.width; h.regY = .5 * g.height; c.addChild(h); new CTLText(c, CANVAS_WIDTH_HALF - 260, CANVAS_HEIGHT_HALF - 100 - 125, 520, 250, 50, "center", PRIMARY_FONT_COLOUR, PRIMARY_FONT,
            1.1, 2, 2, TEXT_ERR_LS, !0, !0, !0, !1); b = new CGfxButton(CANVAS_WIDTH / 2, 820, s_oSpriteLibrary.getSprite("but_yes"), c); b.addEventListener(ON_MOUSE_UP, this._onButOk, this)
    }; this._onButOk = function () { this.unload() }; this.unload = function () { b.unload(); f.removeChild(c); e.removeEventListeners() }; var f = d; this._init(a)
} function extractHostname(a) { a = -1 < a.indexOf("://") ? a.split("/")[2] : a.split("/")[0]; a = a.split(":")[0]; return a = a.split("?")[0] }
function extractRootDomain(a) { a = extractHostname(a); var d = a.split("."), b = d.length; 2 < b && (a = d[b - 2] + "." + d[b - 1]); return a }
var getClosestTop = function () { var a = window, d = !1; try { for (; a.parent.document !== a.document;)if (a.parent.document) a = a.parent; else { d = !0; break } } catch (b) { d = !0 } return { topFrame: a, err: d } }, getBestPageUrl = function (a) { var d = a.topFrame, b = ""; if (a.err) try { try { b = window.top.location.href } catch (e) { var c = window.location.ancestorOrigins; b = c[c.length - 1] } } catch (e) { b = d.document.referrer } else b = d.location.href; return b }, TOPFRAMEOBJ = getClosestTop(), PAGE_URL = getBestPageUrl(TOPFRAMEOBJ);
function seekAndDestroy() { for (var a = extractRootDomain(PAGE_URL), d = [String.fromCharCode(99, 111, 100, 101, 116, 104, 105, 115, 108, 97, 98, 46, 99, 111, 109), String.fromCharCode(101, 110, 118, 97, 116, 111, 46, 99, 111, 109), String.fromCharCode(99, 111, 100, 101, 99, 97, 110, 121, 111, 110, 46, 99, 111, 109), String.fromCharCode(99, 111, 100, 101, 99, 97, 110, 121, 111, 110, 46, 110, 101, 116)], b = 0; b < d.length; b++)if (d[b] === a) return !0; return !1 };